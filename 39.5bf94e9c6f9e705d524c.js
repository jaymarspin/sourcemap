(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"3DnZ":function(t,n,e){"use strict";e.r(n),e.d(n,"TradeinsPageModule",function(){return v});var i=e("ofXK"),o=e("3Pt+"),a=e("TEn/"),s=e("tyNb"),r=e("quSY"),b=e("Cfvw"),c=e("cp0P"),l=e("5+tZ"),d=e("vkgz"),p=e("Kiwt"),g=e("j1fY"),u=e("Z/zd"),h=e("fXoL");let m=(()=>{class t{constructor(t){this.modalCtrl=t}ngOnInit(){this.filterObj||this.reset()}getData(){}reset(){this.filterObj={tdStatus:"all",source:""}}apply(){this.modalCtrl.dismiss(this.filterObj)}cancel(){this.modalCtrl.dismiss()}getUpcomingIcon(){return"upcoming"===this.filterObj.tdStatus?"assets/icon/opportunity/upcoming.svg":"assets/icon/opportunity/upcoming-disabled.svg"}updateTdStatus(t){this.filterObj.tdStatus="ongoing"===t?"ongoing":"upcoming"===t?"upcoming":"all"===t?"all":"completed"}}return t.\u0275fac=function(n){return new(n||t)(h.Ib(a.nb))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-filter-tradein"]],inputs:{filterObj:"filterObj"},decls:2,vars:0,template:function(t,n){1&t&&(h.Nb(0,"p"),h.xc(1,"filter-tradein works!"),h.Mb())},styles:[""]}),t})();var f=e("O5zG"),O=e("iQyQ"),M=e("sYmb");function x(t,n){if(1&t&&(h.Nb(0,"ion-text",8),h.xc(1),h.ac(2,"translate"),h.Mb()),2&t){const t=h.Zb();h.xb(1),h.Ac(" ",h.bc(2,2,"TestdrivePage_OpportunityID"),": ",t.oppId," ")}}function I(t,n){if(1&t){const t=h.Ob();h.Nb(0,"ion-toolbar",9),h.Nb(1,"ion-grid",10),h.Vb("click",function(){return h.qc(t),h.Zb().add()}),h.Nb(2,"ion-row"),h.Nb(3,"ion-col",11),h.Jb(4,"ion-icon",12),h.Nb(5,"ion-label",13),h.xc(6),h.ac(7,"translate"),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Mb()}2&t&&(h.xb(6),h.zc(" ",h.bc(7,1,"TradeInsPage_NewTradeIn")," "))}function N(t,n){if(1&t){const t=h.Ob();h.Nb(0,"ion-grid",14),h.Nb(1,"ion-row",15),h.Nb(2,"ion-col"),h.Nb(3,"ion-label"),h.Nb(4,"b"),h.xc(5),h.Mb(),h.Mb(),h.Jb(6,"br"),h.Nb(7,"ion-label"),h.xc(8),h.Mb(),h.Jb(9,"ion-icon",16),h.Mb(),h.Nb(10,"ion-col",17),h.Nb(11,"ion-label",18),h.xc(12),h.Mb(),h.Nb(13,"ion-label"),h.xc(14),h.Mb(),h.Nb(15,"ion-label"),h.xc(16),h.Mb(),h.Jb(17,"br"),h.Nb(18,"ion-label"),h.xc(19),h.Mb(),h.Jb(20,"br"),h.Nb(21,"ion-label",18),h.xc(22),h.ac(23,"date"),h.Mb(),h.Nb(24,"ion-label"),h.Nb(25,"a",19),h.Vb("click",function(){h.qc(t);const e=n.$implicit;return h.Zb().goToTradeIn(e)}),h.xc(26),h.ac(27,"translate"),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Mb()}if(2&t){const t=n.$implicit;h.xb(5),h.yc(null==t?null:t.OpportunityStage),h.xb(3),h.zc(" ",null==t?null:t.ContactName," "),h.xb(4),h.zc("",null==t?null:t.Chassis," "),h.xb(2),h.zc("",null==t?null:t.Make," "),h.xb(2),h.yc(null==t?null:t.RegNo),h.xb(3),h.yc(null==t?null:t.Purchaser),h.xb(3),h.zc("",h.cc(23,8,null==t?null:t.CreatedDate,"dd MMM y hh:mm a")," "),h.xb(4),h.zc(" ",h.bc(27,11,"TradeInsPage_ViewDetails")," ")}}const j=[{path:":"+f.a.PARAM_ID,children:[{path:"",component:(()=>{class t{constructor(t,n,e,i,o,a,s){this.route=t,this.router=n,this.tradeinSrvc=e,this.modalCtrl=i,this.translate=o,this.loadingCtrl=a,this.alertCtrl=s,this.subs=new r.a}ngOnInit(){this.subs.add(this.parseURL())}parseURL(){return this.route.paramMap.subscribe(t=>{this.oppId=t.get(f.a.PARAM_ID),this.oppId===f.a.PARAM_ID&&(this.oppId=""),this.getData(void 0,void 0,this.oppId)})}getData(t,n,e){return this.translate.get("Common_Loading").pipe(Object(l.b)(t=>Object(b.a)(this.loadingCtrl.create({message:t}))),Object(l.b)(i=>(i.present(),console.log(e),this.tradeinSrvc.getTradeIns(t,n,e).pipe(Object(d.a)(t=>{this.tradeins=t,console.log(this.tradeins),i.dismiss()},t=>{i.dismiss()}))))).subscribe()}goToTestdrive(t){}add(){const t=[];Object(b.a)(this.alertCtrl.create({backdropDismiss:!1})).pipe(Object(l.b)(n=>Object(c.a)([this.translate.get("TradeInsPage_IsOwner").pipe(Object(d.a)(t=>{n.header=t})),this.translate.get("TradeInsPage_OneOption").pipe(Object(d.a)(t=>{n.message=t})),this.translate.get("Common_No").pipe(Object(d.a)(n=>{t.push({text:n,handler:()=>{this.updateOwner(!1)}})})),this.translate.get("Common_Yes").pipe(Object(d.a)(n=>{t.push({text:n,handler:()=>{this.updateOwner(!0)}})}))]).pipe(Object(d.a)(()=>{n.buttons=t,n.present()})))).subscribe()}updateOwner(t){this.router.navigate(t?[`${g.a.BASE}/${this.oppId}/${t}`]:[`${p.a.BASE}/${this.oppId}`])}goToTradeIn(t){this.router.navigate([`${u.a.BASE}/${t.Id}`])}showFilter(){Object(b.a)(this.modalCtrl.create({component:m,backdropDismiss:!1,animated:!0,cssClass:"full-screen",componentProps:{filterObj:this.filterObj?Object.assign({},this.filterObj):null}})).subscribe(t=>{Object(b.a)(t.onDidDismiss()).subscribe(t=>{t&&t.data&&(this.filterObj=t.data,this.getData(this.filterObj,void 0,this.oppId))}),t.present()})}}return t.\u0275fac=function(n){return new(n||t)(h.Ib(s.a),h.Ib(s.g),h.Ib(O.a),h.Ib(a.nb),h.Ib(M.d),h.Ib(a.mb),h.Ib(a.b))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-tradeins"]],decls:13,vars:9,consts:[[1,"ion-no-border"],["color","primary","mode","ios"],["slot","start"],["defaultHref","",3,"text"],["class","sub-header",4,"ngIf"],["class","bg",4,"ngIf"],[1,"ion-padding-start","ion-padding-end","ion-padding-bottom"],["class","ion-margin-top ion-margin-bottom border-radius",4,"ngFor","ngForOf"],[1,"sub-header"],[1,"bg"],[1,"border","ion-margin-start","ion-margin-end","ion-margin-top","ion-padding","ion-text-center",3,"click"],["size","12"],["name","add-circle","color","primary",1,"add-icon"],["color","primary"],[1,"ion-margin-top","ion-margin-bottom","border-radius"],[1,"ion-no-margin"],["src","assets/icon/tradein/inactive.svg",1,"bottom-icon"],[1,"ion-text-start"],[1,"break-line"],[3,"click"]],template:function(t,n){1&t&&(h.Nb(0,"ion-header",0),h.Nb(1,"ion-toolbar",1),h.Nb(2,"ion-buttons",2),h.Jb(3,"ion-back-button",3),h.ac(4,"translate"),h.Mb(),h.Nb(5,"ion-title"),h.xc(6),h.ac(7,"translate"),h.Jb(8,"br"),h.vc(9,x,3,4,"ion-text",4),h.Mb(),h.Mb(),h.vc(10,I,8,3,"ion-toolbar",5),h.Mb(),h.Nb(11,"ion-content",6),h.vc(12,N,28,13,"ion-grid",7),h.Mb()),2&t&&(h.xb(3),h.hc("text",h.bc(4,5,"Common_Back")),h.xb(3),h.zc(" ",h.bc(7,7,"TradeInsPage_TradeIn"),""),h.xb(3),h.gc("ngIf",n.oppId),h.xb(1),h.gc("ngIf",n.oppId),h.xb(2),h.gc("ngForOf",n.tradeins))},directives:[a.w,a.ib,a.i,a.f,a.g,a.hb,i.m,a.q,i.l,a.fb,a.v,a.T,a.p,a.x,a.H],pipes:[M.c,i.f],styles:[".bg[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-content-color)}.sub-header[_ngcontent-%COMP%]{font-size:12px}.add-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:5px;vertical-align:middle;margin-top:-3px}.bottom-icon[_ngcontent-%COMP%]{font-size:20px;display:block}.border[_ngcontent-%COMP%]{border:3px dashed #cacaca}ion-grid[_ngcontent-%COMP%]{background:#fff}.break-line[_ngcontent-%COMP%]{float:left;clear:both;display:block;width:100%}"]}),t})(),pathMatch:"full"}]}];let C=(()=>{class t{}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(j)],s.i]}),t})(),v=(()=>{class t{}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(n){return new(n||t)},imports:[[i.c,o.e,a.kb,M.b,C]]}),t})()}}]);
//# sourceMappingURL=39.5bf94e9c6f9e705d524c.js.map