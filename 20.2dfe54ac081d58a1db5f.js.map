{"version":3,"sources":["./node_modules/cupertino-pane/dist/cupertino-pane.esm.bundle.js","./src/app/pages/home/components/menu-icons/menu-icons.component.html","./src/app/pages/home/components/menu-icons/menu-icons.component.ts","./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.page.ts","./src/app/pages/home/home.page.html","./src/app/pages/home/home.module.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Support","window","touch","navigator","maxTouchPoints","document","CSS","supports","supportsPassive","opts","Object","defineProperty","addEventListener","Device","this","ios","android","androidChrome","desktop","iphone","ipod","ipad","edge","ie","firefox","macos","windows","cordova","phonegap","electron","ionic","querySelector","platform","ua","userAgent","screenWidth","screen","width","screenHeight","height","match","indexOf","toLowerCase","os","osVersion","replace","split","webView","matchMedia","matches","webview","standalone","pixelRatio","devicePixelRatio","Events","instance","settings","device","breakpoints","allowClick","disableDragAngle","pointerDown","contentScrollTop","steps","inputBluredbyMove","movedByKeyboard","touchEvents","pointerEvents","simulateTouch","start","move","end","cancel","touchStartCb","t","touchStart","touchMoveBackdropCb","touchMoveBackdrop","touchMoveCb","touchMove","touchEndCb","touchEnd","onClickCb","onClick","onKeyboardShowCb","onKeyboardShow","onKeyboardHideCb","onKeyboardHide","onWindowResizeCb","onWindowResize","dragBy","forEach","selector","el","eventListeners","paneEl","handleKeyboard","parentEl","scrollTop","parentElement","removeEventListener","detachAllEvents","attachAllEvents","type","_a","_b","_c","backdropEl","passiveListener","passiveListeners","passive","capture","preventClicks","onDragStart","disableDragEvents","preventedDismiss","targetTouch","targetTouches","changedTouches","screenY","clientY","screenX","clientX","startY","startX","isDragScrollabe","path","composedPath","push","touchMoveStopPropagation","stopPropagation","onDrag","n","v","diffY","length","newVal","getPanelTransformY","isFormElement","target","isElementScrollable","activeElement","blur","touchAngle","diffX","Math","atan2","abs","PI","overflowEl","style","overflowY","s","inverse","willScrolled","topper","upperThanTop","transform","differKoef","lowerThanBottom","bottomer","checkOpacityAttr","preventDismissEvent","bottomClose","touches","screen_height","onWillDismiss","prevented","moveToBreak","prevBreakpoint","checkOverflowAttr","doTransition","translateY","closest","getClosestBreakY","diff","swipeNextSensivity","hasOwnProperty","fastSwipeSensivity","swipeNextPoint","fastSwipeClose","currentBreakpoint","destroy","animate","blurTapEvent","onDragEnd","isNaN","breaks","onTransitionEnd","clickBottomOpen","enabled","preventDefault","stopImmediatePropagation","isPaneDescendant","isOnViewport","setTimeout","fixAndroidResize","entries","find","val","newHeight","currentBreak","keyboardHeight","moveToHeight","setOverflowHeight","topperOverflowOffset","offsetTop","isHidden","updateScreenHeights","buildBreakpoints","JSON","parse","lockedBreakpoints","requestAnimationFrame","wrapperEl","position","item","overflow","node","parentNode","tagName","includes","scrollHeight","clientHeight","offsetWidth","offsetHeight","Settings","initialBreak","followerElement","cssClass","fitHeight","maxFitHeight","fitScreenHeight","pushElement","pushMinHeight","pushYOffset","backdrop","backdropOpacity","animationType","animationDuration","bottomOffset","freeMode","buttonDestroy","buttonClose","topperOverflow","showDraggable","draggableOver","onDidDismiss","onDidPresent","onWillPresent","onBackdropTap","onTransitionStart","Breakpoints","calcHeightInProcess","brs","defaultBreaksConf","top","innerHeight","middle","bottom","conf","lock","screenHeightOffset","getPaneFitHeight","stringify","isPanePresented","console","warn","reduce","prev","curr","nextY","nextBreak","getPaneHeight","scrollElementInit","images","querySelectorAll","rendered","visibility","display","promises","Array","from","map","image","complete","naturalHeight","onload","all","parseInt","defaultView","getComputedStyle","getPropertyValue","CupertinoPane","maxDiff","settingsBreaks","assign","HTMLElement","error","events","createElement","classList","add","className","internalStyles","draggableEl","moveEl","backdropFilter","destroyButtonEl","contentEl","transition","overflowX","addStyle","appendChild","drawBaseElements","setBreakpoints","followerEl","willChange","getTimingFunction","bounce","destroyButton","innerHTML","renderBackdrop","body","pushTransition","attrElements","offset","opacity","wrappers","contains","backgroundColor","styleString","id","textContent","head","prepend","show","isBackdropPresented","resetEvents","transitionEnd","parseFloat","exec","getCurrentBreakName","remove","destroyResets","newPaneY","topHeight","minHeight","setStyles","scale","y","border","contrast","borderRadius","filter","getXbyY","min","max","params","timingForNext","new","getNextBreakpoint","MenuIconsComponent","router","menu","segment","initCupertino","icons","getMainMenu","swipeUpPane","destroyDrawer","tabBar","title","swipeMenu","getAllMenu","present","navigate","BASE","PARAM_ID","OPPID","OPP_PARAM_ID","NEW","routes","component","HomePage","authService","errService","authState$","subAuthState","subs","Subscription","subUser","subscribe","user","err","handleError","logError","subShowAuth","combineLatest","pipe","first","usr","isLoggedIn","HomePageRoutingModule","forChild","HomePageModule"],"mappings":"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","file":"20.2dfe54ac081d58a1db5f.js","sourcesContent":["/**\n * Cupertino Pane 1.2.5\n * Multi-functional panes and boards for next generation progressive applications\n * https://github.com/roman-rr/cupertino-pane/\n *\n * Copyright 2019-2021 Roman Antonov (roman-rr)\n *\n * Released under the MIT License\n *\n * Released on: February 19, 2021\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nclass Support {\r\n    static get touch() {\r\n        return (window['Modernizr'] && window['Modernizr'].touch === true) || (function checkTouch() {\r\n            return !!((window.navigator.maxTouchPoints > 0) || ('ontouchstart' in window) || (window['DocumentTouch'] && document instanceof window['DocumentTouch']));\r\n        }());\r\n    }\r\n    static get observer() {\r\n        return ('MutationObserver' in window || 'WebkitMutationObserver' in window);\r\n    }\r\n    static get backdropFilter() {\r\n        return CSS.supports(\"backdrop-filter\", \"blur(0px)\")\r\n            || CSS.supports(\"-webkit-backdrop-filter\", \"blur(0px)\");\r\n    }\r\n    static get passiveListener() {\r\n        let supportsPassive = false;\r\n        try {\r\n            const opts = Object.defineProperty({}, 'passive', {\r\n                // eslint-disable-next-line\r\n                get() {\r\n                    supportsPassive = true;\r\n                },\r\n            });\r\n            window.addEventListener('testPassiveListener', null, opts);\r\n        }\r\n        catch (e) {\r\n            // No support\r\n        }\r\n        return supportsPassive;\r\n    }\r\n    static get gestures() {\r\n        return 'ongesturestart' in window;\r\n    }\r\n    static get pointerEvents() {\r\n        return !!window['PointerEvent'] && ('maxTouchPoints' in window.navigator) && window.navigator.maxTouchPoints > 0;\r\n    }\r\n}\n\nclass Device {\r\n    constructor() {\r\n        this.ios = false;\r\n        this.android = false;\r\n        this.androidChrome = false;\r\n        this.desktop = false;\r\n        this.iphone = false;\r\n        this.ipod = false;\r\n        this.ipad = false;\r\n        this.edge = false;\r\n        this.ie = false;\r\n        this.firefox = false;\r\n        this.macos = false;\r\n        this.windows = false;\r\n        this.cordova = !!(window['cordova'] || window['phonegap']);\r\n        this.phonegap = !!(window['cordova'] || window['phonegap']);\r\n        this.electron = false;\r\n        this.ionic = !!document.querySelector('ion-app');\r\n        const platform = window.navigator.platform;\r\n        const ua = window.navigator.userAgent;\r\n        const screenWidth = window.screen.width;\r\n        const screenHeight = window.screen.height;\r\n        let android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\r\n        let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\r\n        let ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\r\n        let iphone = !this.ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\r\n        let ie = ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\r\n        let edge = ua.indexOf('Edge/') >= 0;\r\n        let firefox = ua.indexOf('Gecko/') >= 0 && ua.indexOf('Firefox/') >= 0;\r\n        let windows = platform === 'Win32';\r\n        let electron = ua.toLowerCase().indexOf('electron') >= 0;\r\n        let macos = platform === 'MacIntel';\r\n        // iPadOs 13 fix\r\n        if (!ipad\r\n            && macos\r\n            && Support.touch\r\n            && ((screenWidth === 1024 && screenHeight === 1366) // Pro 12.9\r\n                || (screenWidth === 834 && screenHeight === 1194) // Pro 11\r\n                || (screenWidth === 834 && screenHeight === 1112) // Pro 10.5\r\n                || (screenWidth === 768 && screenHeight === 1024) // other\r\n            )) {\r\n            ipad = ua.match(/(Version)\\/([\\d.]+)/);\r\n            macos = false;\r\n        }\r\n        this.ie = ie;\r\n        this.edge = edge;\r\n        this.firefox = firefox;\r\n        // Android\r\n        if (android && !windows) {\r\n            this.os = 'android';\r\n            this.osVersion = android[2];\r\n            this.android = true;\r\n            this.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\r\n        }\r\n        if (ipad || iphone || ipod) {\r\n            this.os = 'ios';\r\n            this.ios = true;\r\n        }\r\n        // iOS\r\n        if (iphone && !ipod) {\r\n            this.osVersion = iphone[2].replace(/_/g, '.');\r\n            this.iphone = true;\r\n        }\r\n        if (ipad) {\r\n            this.osVersion = ipad[2].replace(/_/g, '.');\r\n            this.ipad = true;\r\n        }\r\n        if (ipod) {\r\n            this.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\r\n            this.ipod = true;\r\n        }\r\n        // iOS 8+ changed UA\r\n        if (this.ios && this.osVersion && ua.indexOf('Version/') >= 0) {\r\n            if (this.osVersion.split('.')[0] === '10') {\r\n                this.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\r\n            }\r\n        }\r\n        // Webview\r\n        this.webView = !!((iphone || ipad || ipod) && (ua.match(/.*AppleWebKit(?!.*Safari)/i) || window.navigator['standalone']))\r\n            || (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);\r\n        this.webview = this.webView;\r\n        this.standalone = this.webView;\r\n        // Desktop\r\n        this.desktop = !(this.ios || this.android) || electron;\r\n        if (this.desktop) {\r\n            this.electron = electron;\r\n            this.macos = macos;\r\n            this.windows = windows;\r\n            if (this.macos) {\r\n                this.os = 'macos';\r\n            }\r\n            if (this.windows) {\r\n                this.os = 'windows';\r\n            }\r\n        }\r\n        // Pixel Ratio\r\n        this.pixelRatio = window.devicePixelRatio || 1;\r\n    }\r\n}\n\n/**\r\n * Touch start, Touch move, Touch end,\r\n * Click, Keyboard show, Keyboard hide\r\n */\r\nclass Events {\r\n    constructor(instance, settings, device, breakpoints) {\r\n        this.instance = instance;\r\n        this.settings = settings;\r\n        this.device = device;\r\n        this.breakpoints = breakpoints;\r\n        this.allowClick = true;\r\n        this.disableDragAngle = false;\r\n        this.pointerDown = false;\r\n        this.contentScrollTop = 0;\r\n        this.steps = [];\r\n        this.inputBluredbyMove = false;\r\n        this.movedByKeyboard = false;\r\n        this.touchEvents = (() => {\r\n            const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\r\n            let desktop = ['mousedown', 'mousemove', 'mouseup'];\r\n            if (Support.pointerEvents) {\r\n                desktop = ['pointerdown', 'pointermove', 'pointerup'];\r\n            }\r\n            const touchEventsTouch = {\r\n                start: touch[0],\r\n                move: touch[1],\r\n                end: touch[2],\r\n                cancel: touch[3],\r\n            };\r\n            const touchEventsDesktop = {\r\n                start: desktop[0],\r\n                move: desktop[1],\r\n                end: desktop[2],\r\n            };\r\n            return Support.touch || !this.settings.simulateTouch ? touchEventsTouch : touchEventsDesktop;\r\n        })();\r\n        /**\r\n         * Touch Start Event\r\n         * @param t\r\n         */\r\n        this.touchStartCb = (t) => this.touchStart(t);\r\n        /**\r\n         * Touch Move Event\r\n         * @param t\r\n         */\r\n        this.touchMoveBackdropCb = (t) => this.touchMoveBackdrop(t);\r\n        /**\r\n         * Touch Move Event\r\n         * @param t\r\n         */\r\n        this.touchMoveCb = (t) => this.touchMove(t);\r\n        /**\r\n         * Touch End Event\r\n         * @param t\r\n         */\r\n        this.touchEndCb = (t) => this.touchEnd(t);\r\n        /**\r\n         * Click Event\r\n         * @param t\r\n         */\r\n        this.onClickCb = (t) => this.onClick(t);\r\n        /**\r\n         * Open Cordova Keyboard event\r\n         * @param e\r\n         */\r\n        this.onKeyboardShowCb = (e) => this.onKeyboardShow(e);\r\n        /**\r\n         * Close Cordova Keyboard event\r\n         * @param e\r\n         */\r\n        this.onKeyboardHideCb = (e) => this.onKeyboardHide(e);\r\n        /**\r\n         * Window resize event\r\n         * @param e\r\n         */\r\n        this.onWindowResizeCb = (e) => this.onWindowResize(e);\r\n    }\r\n    attachAllEvents() {\r\n        if (!this.settings.dragBy) {\r\n            this.eventListeners('addEventListener', this.instance.paneEl);\r\n        }\r\n        else {\r\n            this.settings.dragBy.forEach((selector) => {\r\n                const el = document.querySelector(selector);\r\n                if (el)\r\n                    this.eventListeners('addEventListener', el);\r\n            });\r\n        }\r\n        // Handle keyboard events for cordova\r\n        if (this.settings.handleKeyboard && this.device.cordova) {\r\n            window.addEventListener('keyboardWillShow', this.onKeyboardShowCb);\r\n            window.addEventListener('keyboardWillHide', this.onKeyboardHideCb);\r\n        }\r\n        // Fix Android issue with resize if not handle\r\n        if (!this.settings.handleKeyboard\r\n            && this.device.cordova\r\n            && this.device.android) {\r\n            window.addEventListener('keyboardWillHide', () => {\r\n                this.instance.parentEl.scrollTop = 0;\r\n                if (this.instance.parentEl.parentElement) {\r\n                    this.instance.parentEl.parentElement.scrollTop = 0;\r\n                    if (this.instance.parentEl.parentElement.parentElement) {\r\n                        this.instance.parentEl.parentElement.parentElement.scrollTop = 0;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Orientation change + window resize\r\n        window.addEventListener('resize', this.onWindowResizeCb);\r\n    }\r\n    detachAllEvents() {\r\n        if (!this.settings.dragBy) {\r\n            this.eventListeners('removeEventListener', this.instance.paneEl);\r\n        }\r\n        else {\r\n            this.settings.dragBy.forEach((selector) => {\r\n                const el = document.querySelector(selector);\r\n                if (el)\r\n                    this.eventListeners('removeEventListener', el);\r\n            });\r\n        }\r\n        // Handle keyboard events for cordova\r\n        if (this.settings.handleKeyboard && this.device.cordova) {\r\n            window.removeEventListener('keyboardWillShow', this.onKeyboardShowCb);\r\n            window.removeEventListener('keyboardWillHide', this.onKeyboardHideCb);\r\n        }\r\n        // Orientation change + window resize\r\n        window.removeEventListener('resize', this.onWindowResizeCb);\r\n    }\r\n    resetEvents() {\r\n        this.detachAllEvents();\r\n        this.attachAllEvents();\r\n    }\r\n    eventListeners(type, el) {\r\n        var _a, _b, _c;\r\n        // Touch Events\r\n        if (!Support.touch && Support.pointerEvents) {\r\n            el[type](this.touchEvents.start, this.touchStartCb, false);\r\n            el[type](this.touchEvents.move, this.touchMoveCb, false);\r\n            el[type](this.touchEvents.end, this.touchEndCb, false);\r\n            // Backdrop propagation fix\r\n            (_a = this.instance.backdropEl) === null || _a === void 0 ? void 0 : _a[type](this.touchEvents.move, this.touchMoveBackdropCb, false);\r\n        }\r\n        else {\r\n            if (Support.touch) {\r\n                const passiveListener = this.touchEvents.start === 'touchstart' && Support.passiveListener && this.settings.passiveListeners ? { passive: true, capture: false } : false;\r\n                el[type](this.touchEvents.start, this.touchStartCb, passiveListener);\r\n                el[type](this.touchEvents.move, this.touchMoveCb, Support.passiveListener ? { passive: false, capture: false } : false);\r\n                el[type](this.touchEvents.end, this.touchEndCb, passiveListener);\r\n                // Backdrop propagation fix\r\n                (_b = this.instance.backdropEl) === null || _b === void 0 ? void 0 : _b[type](this.touchEvents.move, this.touchMoveBackdropCb, Support.passiveListener ? { passive: false, capture: false } : false);\r\n                if (this.touchEvents['cancel']) {\r\n                    el[type](this.touchEvents['cancel'], this.touchEndCb, passiveListener);\r\n                }\r\n            }\r\n            if ((this.settings.simulateTouch && !this.device.ios && !this.device.android) || (this.settings.simulateTouch && !Support.touch && this.device.ios)) {\r\n                el[type]('mousedown', this.touchStartCb, false);\r\n                el[type]('mousemove', this.touchMoveCb, false);\r\n                el[type]('mouseup', this.touchEndCb, false);\r\n                // Backdrop propagation fix\r\n                (_c = this.instance.backdropEl) === null || _c === void 0 ? void 0 : _c[type]('mousemove', this.touchMoveBackdropCb, false);\r\n            }\r\n        }\r\n        // Prevent accidental unwanted clicks events during swiping\r\n        if (this.settings.preventClicks) {\r\n            el[type]('click', this.onClickCb, true);\r\n        }\r\n    }\r\n    touchStart(t) {\r\n        // Liam the best :)\r\n        // Event emitter\r\n        this.settings.onDragStart(t);\r\n        if (this.instance.disableDragEvents)\r\n            return;\r\n        // Allow clicks by default, disallow on move\r\n        this.allowClick = true;\r\n        // Allow touch angle by default, disallow no move with condition\r\n        this.disableDragAngle = false;\r\n        // Allow pereventDismiss by default\r\n        this.instance.preventedDismiss = false;\r\n        const targetTouch = t.type === 'touchstart' && t.targetTouches && (t.targetTouches[0] || t.changedTouches[0]);\r\n        const screenY = t.type === 'touchstart' ? targetTouch.clientY : t.clientY;\r\n        const screenX = t.type === 'touchstart' ? targetTouch.clientX : t.clientX;\r\n        if (t.type === 'mousedown')\r\n            this.pointerDown = true;\r\n        this.startY = screenY;\r\n        this.startX = screenX;\r\n        // if overflow content was scrolled\r\n        // increase to scrolled value\r\n        if (this.isDragScrollabe(t.path || t.composedPath())) {\r\n            this.startY += this.contentScrollTop;\r\n        }\r\n        this.steps.push(this.startY);\r\n    }\r\n    touchMoveBackdrop(t) {\r\n        if (this.settings.touchMoveStopPropagation) {\r\n            t.stopPropagation();\r\n        }\r\n    }\r\n    touchMove(t) {\r\n        // Event emitter\r\n        this.settings.onDrag(t);\r\n        if (this.instance.disableDragEvents)\r\n            return;\r\n        if (this.disableDragAngle)\r\n            return;\r\n        if (this.instance.preventedDismiss)\r\n            return;\r\n        if (this.settings.touchMoveStopPropagation) {\r\n            t.stopPropagation();\r\n        }\r\n        // Handle desktop/mobile events\r\n        const targetTouch = t.type === 'touchmove' && t.targetTouches && (t.targetTouches[0] || t.changedTouches[0]);\r\n        const screenY = t.type === 'touchmove' ? targetTouch.clientY : t.clientY;\r\n        const screenX = t.type === 'touchmove' ? targetTouch.clientX : t.clientX;\r\n        if (t.type === 'mousemove' && !this.pointerDown)\r\n            return;\r\n        // Delta\r\n        let n = screenY;\r\n        let v = screenX;\r\n        const diffY = n - this.steps[this.steps.length - 1];\r\n        let newVal = this.instance.getPanelTransformY() + diffY;\r\n        // textarea scrollbar\r\n        if (this.isFormElement(t.target)\r\n            && this.isElementScrollable(t.target)) {\r\n            return;\r\n        }\r\n        // Detect if input was blured\r\n        // TODO: Check that blured from pane child instance\r\n        if (this.steps.length > 2) {\r\n            if (this.isFormElement(document.activeElement)\r\n                && !(this.isFormElement(t.target))) {\r\n                document.activeElement.blur();\r\n                this.inputBluredbyMove = true;\r\n            }\r\n        }\r\n        // Touch angle\r\n        // Only for initial gesture\r\n        if (this.settings.touchAngle) {\r\n            let touchAngle;\r\n            const diffX = v - this.startX;\r\n            const diffY = n - this.startY;\r\n            touchAngle = (Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180) / Math.PI;\r\n            if (diffX * diffX + diffY * diffY >= 25\r\n                && (90 - touchAngle > this.settings.touchAngle)\r\n                && this.steps.length === 1) {\r\n                this.disableDragAngle = true;\r\n                return;\r\n            }\r\n        }\r\n        // Not allow move panel with positive overflow scroll\r\n        if (this.isDragScrollabe(t.path || t.composedPath())\r\n            && this.instance.overflowEl.style.overflowY === 'auto') {\r\n            this.instance.overflowEl.addEventListener('scroll', (s) => {\r\n                this.contentScrollTop = s.target.scrollTop;\r\n            });\r\n            if (this.settings.inverse && this.willScrolled(t)) {\r\n                this.contentScrollTop = 0;\r\n                return;\r\n            }\r\n            // Scrolled -> Disable drag\r\n            if ((newVal > this.breakpoints.topper && this.contentScrollTop > 0)\r\n                || (newVal <= this.breakpoints.topper)) {\r\n                return;\r\n            }\r\n        }\r\n        // Disallow drag topper than top point\r\n        if (!this.settings.inverse\r\n            && !this.settings.upperThanTop && (newVal <= this.breakpoints.topper)) {\r\n            this.instance.paneEl.style.transform = `translateY(${this.breakpoints.topper}px) translateZ(0px)`;\r\n            return;\r\n        }\r\n        // Allow drag topper than top point\r\n        if (newVal <= this.breakpoints.topper && this.settings.upperThanTop) {\r\n            const differKoef = ((-this.breakpoints.topper + this.breakpoints.topper - this.instance.getPanelTransformY()) / this.breakpoints.topper) / -8;\r\n            newVal = this.instance.getPanelTransformY() + (diffY * differKoef);\r\n        }\r\n        // Disallow drag lower then bottom \r\n        if ((!this.settings.lowerThanBottom || this.settings.inverse)\r\n            && (newVal >= this.breakpoints.bottomer)) {\r\n            this.instance.paneEl.style.transform = `translateY(${this.breakpoints.bottomer}px) translateZ(0px)`;\r\n            this.instance.checkOpacityAttr(newVal);\r\n            return;\r\n        }\r\n        // Prevent Dismiss gesture\r\n        if (!this.instance.preventedDismiss\r\n            && this.instance.preventDismissEvent && this.settings.bottomClose) {\r\n            let differKoef = ((-this.breakpoints.topper + this.breakpoints.topper - this.instance.getPanelTransformY()) / this.breakpoints.topper) / -8;\r\n            newVal = this.instance.getPanelTransformY() + (diffY * (0.5 - differKoef));\r\n            let mousePointY = (t.touches[0].screenY - 220 - this.instance.screen_height) * -1;\r\n            if (mousePointY <= this.instance.screen_height - this.breakpoints.bottomer) {\r\n                this.instance.preventedDismiss = true;\r\n                // Emit event with prevent dismiss\r\n                this.settings.onWillDismiss({ prevented: true });\r\n                this.instance.moveToBreak(this.breakpoints.prevBreakpoint);\r\n                return;\r\n            }\r\n        }\r\n        // Disallow accidentaly clicks while slide gestures\r\n        this.allowClick = false;\r\n        this.instance.checkOpacityAttr(newVal);\r\n        this.instance.checkOverflowAttr(newVal);\r\n        this.instance.doTransition({ type: 'move', translateY: newVal });\r\n        this.steps.push(n);\r\n    }\r\n    touchEnd(t) {\r\n        if (this.instance.disableDragEvents)\r\n            return;\r\n        const targetTouch = t.type === 'touchmove' && t.targetTouches && (t.targetTouches[0] || t.changedTouches[0]);\r\n        const screenY = t.type === 'touchmove' ? targetTouch.clientY : t.clientY;\r\n        if (t.type === 'mouseup')\r\n            this.pointerDown = false;\r\n        // Determinate nearest point\r\n        let closest = this.breakpoints.getClosestBreakY();\r\n        // Swipe - next (if differ > 10)\r\n        const diff = this.steps[this.steps.length - 1] - this.steps[this.steps.length - 2];\r\n        // Set sensivity lower for web\r\n        const swipeNextSensivity = window.hasOwnProperty('cordova')\r\n            ? (this.settings.fastSwipeSensivity + 1) : this.settings.fastSwipeSensivity;\r\n        const fastSwipeNext = (Math.abs(diff) >= swipeNextSensivity);\r\n        if (fastSwipeNext) {\r\n            closest = this.instance.swipeNextPoint(diff, swipeNextSensivity, closest);\r\n            // Fast swipe toward bottom - close\r\n            if (this.settings.fastSwipeClose\r\n                && this.breakpoints.currentBreakpoint < closest) {\r\n                this.instance.destroy({ animate: true });\r\n                return;\r\n            }\r\n        }\r\n        // blur tap event\r\n        let blurTapEvent = false;\r\n        if ((this.isFormElement(document.activeElement))\r\n            && !(this.isFormElement(t.target))\r\n            && this.steps.length === 2) {\r\n            blurTapEvent = true;\r\n        }\r\n        this.steps = [];\r\n        this.breakpoints.currentBreakpoint = closest;\r\n        // Event emitter\r\n        this.settings.onDragEnd(t);\r\n        // tap event\r\n        if (isNaN(diff) || blurTapEvent) {\r\n            return;\r\n        }\r\n        this.instance.checkOpacityAttr(this.breakpoints.currentBreakpoint);\r\n        this.instance.checkOverflowAttr(this.breakpoints.currentBreakpoint);\r\n        // Bottom closable\r\n        if (this.settings.bottomClose && closest === this.breakpoints.breaks['bottom']) {\r\n            this.instance.destroy({ animate: true });\r\n            return;\r\n        }\r\n        // Simulationiusly emit event when touchend exact with next position (top)\r\n        if (this.instance.getPanelTransformY() === closest) {\r\n            this.settings.onTransitionEnd({ target: this.instance.paneEl });\r\n        }\r\n        this.instance.doTransition({ type: 'end', translateY: closest });\r\n    }\r\n    onClick(t) {\r\n        // Prevent accidental unwanted clicks events during swiping\r\n        if (!this.allowClick) {\r\n            if (this.settings.preventClicks) {\r\n                t.preventDefault();\r\n                t.stopPropagation();\r\n                t.stopImmediatePropagation();\r\n            }\r\n            return;\r\n        }\r\n        // Click to bottom - open middle\r\n        if (this.settings.clickBottomOpen) {\r\n            if (this.breakpoints.breaks['bottom'] === this.instance.getPanelTransformY()) {\r\n                let closest;\r\n                if (this.settings.breaks['top'].enabled) {\r\n                    closest = 'top';\r\n                }\r\n                if (this.settings.breaks['middle'].enabled) {\r\n                    closest = 'middle';\r\n                }\r\n                this.instance.moveToBreak(closest);\r\n            }\r\n        }\r\n    }\r\n    onKeyboardShow(e) {\r\n        // focud element not inside pane\r\n        if (!this.isPaneDescendant(document.activeElement)) {\r\n            return;\r\n        }\r\n        // pane not visible on viewport\r\n        if (!this.isOnViewport()) {\r\n            return;\r\n        }\r\n        if (this.device.android) {\r\n            setTimeout(() => this.fixAndroidResize(), 20);\r\n        }\r\n        this.movedByKeyboard = true;\r\n        this.breakpoints.prevBreakpoint = Object.entries(this.breakpoints.breaks).find(val => val[1] === this.instance.getPanelTransformY())[0];\r\n        let newHeight = this.settings.breaks[this.instance.currentBreak()].height + e.keyboardHeight;\r\n        // Landscape case\r\n        let isLandscape = window.matchMedia('(orientation: landscape)').matches;\r\n        if (isLandscape) {\r\n            newHeight = this.instance.screen_height;\r\n        }\r\n        // higher than screen + offsets\r\n        if (newHeight > this.instance.screen_height - 80) {\r\n            newHeight = this.instance.screen_height - 80;\r\n        }\r\n        // Move pane up if new position more than 50px\r\n        if (newHeight - 50 >= this.settings.breaks[this.instance.currentBreak()].height) {\r\n            this.instance.moveToHeight(newHeight);\r\n        }\r\n        // Remove offset because on new height no offsets needs\r\n        // Timeout await for keyboard presented\r\n        setTimeout(() => {\r\n            this.instance.setOverflowHeight(e.keyboardHeight - this.settings.topperOverflowOffset);\r\n            this.instance.overflowEl.scrollTop = document.activeElement.offsetTop;\r\n        }, 300);\r\n    }\r\n    onKeyboardHide(e) {\r\n        // Move back\r\n        if (!this.movedByKeyboard) {\r\n            return;\r\n        }\r\n        // pane not visible on viewport\r\n        if (!this.isOnViewport()) {\r\n            return;\r\n        }\r\n        if (this.device.android) {\r\n            this.fixAndroidResize();\r\n        }\r\n        this.movedByKeyboard = false;\r\n        this.instance.setOverflowHeight();\r\n        if (this.inputBluredbyMove) {\r\n            this.inputBluredbyMove = false;\r\n            return;\r\n        }\r\n        if (!this.instance.isHidden()) {\r\n            this.instance.moveToBreak(this.breakpoints.prevBreakpoint);\r\n        }\r\n    }\r\n    onWindowResize(e) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield new Promise((resolve) => setTimeout(() => resolve(true), 150));\r\n            this.instance.updateScreenHeights();\r\n            this.breakpoints.buildBreakpoints(JSON.parse(this.breakpoints.lockedBreakpoints), false);\r\n        });\r\n    }\r\n    /**\r\n     * Private class methods\r\n     */\r\n    /**\r\n     * Fix android keyboard issue with transition\r\n     * (resize window frame height on hide/show)\r\n     */\r\n    fixAndroidResize() {\r\n        if (!this.instance.paneEl)\r\n            return;\r\n        const ionApp = document.querySelector('ion-app');\r\n        window.requestAnimationFrame(() => {\r\n            this.instance.wrapperEl.style.width = '100%';\r\n            this.instance.paneEl.style.position = 'absolute';\r\n            window.requestAnimationFrame(() => {\r\n                this.instance.wrapperEl.style.width = 'unset';\r\n                this.instance.paneEl.style.position = 'fixed';\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Check if drag event fired by scrollable element\r\n     */\r\n    isDragScrollabe(path) {\r\n        return !!path.find(item => item === this.instance.overflowEl);\r\n    }\r\n    willScrolled(t) {\r\n        if (!(this.isElementScrollable(this.instance.overflowEl)\r\n            && this.instance.overflowEl.style.overflow !== 'hidden'\r\n            && this.isDragScrollabe(t.path || t.composedPath()))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    isPaneDescendant(el) {\r\n        let node = el.parentNode;\r\n        while (node != null) {\r\n            if (node == this.instance.paneEl) {\r\n                return true;\r\n            }\r\n            node = node.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n    isFormElement(el) {\r\n        const formElements = [\r\n            'input', 'select', 'option',\r\n            'textarea', 'button', 'label'\r\n        ];\r\n        if (el && el.tagName\r\n            && formElements.includes(el.tagName.toLowerCase())) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isElementScrollable(el) {\r\n        return el.scrollHeight > el.clientHeight ? true : false;\r\n    }\r\n    isOnViewport() {\r\n        if (this.instance.paneEl\r\n            && this.instance.paneEl.offsetWidth === 0\r\n            && this.instance.paneEl.offsetHeight === 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\n\nclass Settings {\r\n    constructor() {\r\n        this.instance = {\r\n            initialBreak: 'middle',\r\n            inverse: false,\r\n            parentElement: null,\r\n            followerElement: null,\r\n            cssClass: null,\r\n            fitHeight: false,\r\n            maxFitHeight: null,\r\n            fitScreenHeight: true,\r\n            pushElement: null,\r\n            pushMinHeight: null,\r\n            pushYOffset: 0,\r\n            backdrop: false,\r\n            backdropOpacity: 0.4,\r\n            animationType: 'ease',\r\n            animationDuration: 300,\r\n            dragBy: null,\r\n            bottomOffset: 0,\r\n            bottomClose: false,\r\n            fastSwipeClose: false,\r\n            fastSwipeSensivity: 3,\r\n            freeMode: false,\r\n            buttonDestroy: true,\r\n            buttonClose: true,\r\n            topperOverflow: true,\r\n            topperOverflowOffset: 0,\r\n            lowerThanBottom: true,\r\n            upperThanTop: false,\r\n            showDraggable: true,\r\n            draggableOver: false,\r\n            clickBottomOpen: true,\r\n            preventClicks: true,\r\n            handleKeyboard: true,\r\n            simulateTouch: true,\r\n            passiveListeners: true,\r\n            touchMoveStopPropagation: false,\r\n            touchAngle: null,\r\n            breaks: {},\r\n            onDidDismiss: () => { },\r\n            onWillDismiss: () => { },\r\n            onDidPresent: () => { },\r\n            onWillPresent: () => { },\r\n            onDragStart: () => { },\r\n            onDrag: () => { },\r\n            onDragEnd: () => { },\r\n            onBackdropTap: () => { },\r\n            onTransitionStart: () => { },\r\n            onTransitionEnd: () => { }\r\n        };\r\n    }\r\n}\n\n/**\r\n * Breakpoints builde\r\n */\r\nclass Breakpoints {\r\n    constructor(instance, settings) {\r\n        this.instance = instance;\r\n        this.settings = settings;\r\n        this.breaks = {};\r\n        this.calcHeightInProcess = false;\r\n        this.brs = [];\r\n        this.defaultBreaksConf = {\r\n            top: { enabled: true, height: window.innerHeight - (135 * 0.35) },\r\n            middle: { enabled: true, height: 300 },\r\n            bottom: { enabled: true, height: 100 },\r\n        };\r\n    }\r\n    /**\r\n     * Function builder for breakpoints and heights\r\n     * @param conf breakpoints\r\n     */\r\n    buildBreakpoints(conf, lock = true) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.breaks = {\r\n                top: this.instance.screenHeightOffset,\r\n                middle: this.instance.screenHeightOffset,\r\n                bottom: this.instance.screenHeightOffset\r\n            };\r\n            // Fit Height & Bulletin cases\r\n            if (this.settings.fitHeight) {\r\n                this.settings.fitScreenHeight = false;\r\n                this.settings.initialBreak = 'top';\r\n                this.settings.topperOverflow = false;\r\n                let height = yield this.getPaneFitHeight();\r\n                // maxFitHeight\r\n                if (this.settings.maxFitHeight\r\n                    && height > this.settings.maxFitHeight) {\r\n                    height = this.settings.maxFitHeight;\r\n                    this.settings.topperOverflow = true;\r\n                }\r\n                conf = {\r\n                    top: { enabled: true, height },\r\n                    middle: { enabled: false },\r\n                    bottom: { enabled: false }\r\n                };\r\n            }\r\n            ['top', 'middle', 'bottom'].forEach((val) => {\r\n                // bottom offset for bulletins\r\n                var _a;\r\n                this.breaks[val] -= this.settings.bottomOffset;\r\n                // Set default if no exist\r\n                if (!this.settings.breaks[val]) {\r\n                    this.settings.breaks[val] = this.defaultBreaksConf[val];\r\n                }\r\n                // Override from user conf on updating\r\n                if (conf && conf[val]) {\r\n                    this.settings.breaks[val] = conf[val];\r\n                }\r\n                // fitScreenHeight (breaks styles fit screen)\r\n                if (this.settings.fitScreenHeight) {\r\n                    if (((_a = this.settings.breaks[val]) === null || _a === void 0 ? void 0 : _a.height) > this.instance.screen_height) {\r\n                        this.settings.breaks[val].height = this.instance.screen_height - this.settings.bottomOffset;\r\n                    }\r\n                    if (this.settings.breaks['top'] && this.settings.breaks['middle']) {\r\n                        if (this.settings.breaks['top'].height - 50 <= this.settings.breaks['middle'].height) {\r\n                            this.settings.breaks['middle'].enabled = false;\r\n                            this.settings.initialBreak = 'top';\r\n                        }\r\n                    }\r\n                }\r\n                // fitHeight (bullet-in styles fir screen)\r\n                if (this.settings.fitHeight && val === 'top') {\r\n                    if (this.settings.breaks[val].height > this.instance.screen_height) {\r\n                        this.settings.breaks[val].height = this.instance.screen_height - (this.settings.bottomOffset * 2);\r\n                        this.settings.topperOverflow = true;\r\n                    }\r\n                    else {\r\n                        if (this.instance.overflowEl && !this.settings.maxFitHeight) {\r\n                            this.settings.topperOverflow = false;\r\n                            this.instance.overflowEl.style.overflowY = 'hidden';\r\n                        }\r\n                    }\r\n                }\r\n                // Assign heights\r\n                if (this.settings.breaks[val]\r\n                    && this.settings.breaks[val].enabled\r\n                    && this.settings.breaks[val].height) {\r\n                    if (!this.settings.inverse) {\r\n                        this.breaks[val] -= this.settings.breaks[val].height;\r\n                    }\r\n                    else {\r\n                        this.breaks[val] = this.settings.breaks[val].height;\r\n                    }\r\n                }\r\n            });\r\n            // initial lock on present\r\n            if (!this.lockedBreakpoints) {\r\n                this.lockedBreakpoints = JSON.stringify(this.settings.breaks);\r\n            }\r\n            // Warnings\r\n            if (!this.instance.isPanePresented()) {\r\n                if (!this.settings.breaks[this.settings.initialBreak].enabled) {\r\n                    console.warn('Cupertino Pane: Please set initialBreak for enabled breakpoint');\r\n                }\r\n            }\r\n            if (this.settings.breaks['middle'].height >= this.settings.breaks['top'].height) {\r\n                console.warn('Cupertino Pane: Please set middle height lower than top height');\r\n            }\r\n            if (this.settings.breaks['middle'].height <= this.settings.breaks['bottom'].height) {\r\n                console.warn('Cupertino Pane: Please set bottom height lower than middle height');\r\n            }\r\n            // Prepare breakpoint numbers array\r\n            this.brs = [];\r\n            ['top', 'middle', 'bottom'].forEach((val) => {\r\n                if (this.settings.breaks[val].enabled) {\r\n                    this.brs.push(this.breaks[val]);\r\n                }\r\n            });\r\n            // Determinate topper point\r\n            this.topper = this.brs.reduce((prev, curr) => {\r\n                return (curr < prev ? curr : prev);\r\n            });\r\n            // Determinate bottomer point\r\n            this.bottomer = this.brs.reduce((prev, curr) => {\r\n                return (Math.abs(curr) > Math.abs(prev) ? curr : prev);\r\n            });\r\n            if (!this.instance.isPanePresented()) {\r\n                this.currentBreakpoint = this.breaks[this.settings.initialBreak];\r\n                // Disable overflow for top bulletin\r\n                if (this.settings.inverse\r\n                    && !this.settings.breaks.bottom.enabled\r\n                    && !this.settings.breaks.middle.enabled) {\r\n                    this.settings.topperOverflow = false;\r\n                }\r\n            }\r\n            if (this.instance.isPanePresented()) {\r\n                // Move to current if updated\r\n                if ((_a = this.settings.breaks[this.prevBreakpoint]) === null || _a === void 0 ? void 0 : _a.enabled) {\r\n                    this.instance.moveToBreak(this.prevBreakpoint);\r\n                }\r\n                // Move to any if removed\r\n                if (!((_b = this.settings.breaks[this.prevBreakpoint]) === null || _b === void 0 ? void 0 : _b.enabled)) {\r\n                    let nextY = this.instance.swipeNextPoint(1, 1, this.getClosestBreakY());\r\n                    const nextBreak = Object.entries(this.breaks).find(val => val[1] === nextY);\r\n                    this.instance.moveToBreak(nextBreak[0]);\r\n                }\r\n                // Re-calc height and top\r\n                this.instance.paneEl.style.top = this.settings.inverse ? `-${this.bottomer}px` : `unset`;\r\n                this.instance.paneEl.style.height = `${this.instance.getPaneHeight()}px`;\r\n                this.instance.scrollElementInit();\r\n                this.instance.checkOpacityAttr(this.currentBreakpoint);\r\n                this.instance.checkOverflowAttr(this.currentBreakpoint);\r\n            }\r\n        });\r\n    }\r\n    getCurrentBreakName() {\r\n        if (this.breaks['top'] === this.currentBreakpoint)\r\n            return 'top';\r\n        if (this.breaks['middle'] === this.currentBreakpoint)\r\n            return 'middle';\r\n        if (this.breaks['bottom'] === this.currentBreakpoint)\r\n            return 'bottom';\r\n        return null;\r\n    }\r\n    /**\r\n     * Private class methods\r\n     */\r\n    getPaneFitHeight() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.calcHeightInProcess = true;\r\n            let images = this.instance.el.querySelectorAll('img');\r\n            let height;\r\n            // Make element visible to calculate height\r\n            this.instance.el.style.height = 'unset';\r\n            if (!this.instance.rendered) {\r\n                this.instance.el.style.visibility = 'hidden';\r\n                this.instance.el.style.pointerEvents = 'none';\r\n                this.instance.el.style.display = 'block';\r\n                this.instance.wrapperEl.style.visibility = 'hidden';\r\n                this.instance.wrapperEl.style.pointerEvents = 'none';\r\n                this.instance.wrapperEl.style.display = 'block';\r\n            }\r\n            let promises = [];\r\n            if (images.length) {\r\n                // Bulletins with image height we get after image render\r\n                promises = Array.from(images).map((image) => new Promise((resolve) => {\r\n                    // Already rendered\r\n                    if (image.complete && image.naturalHeight) {\r\n                        resolve(true);\r\n                    }\r\n                    else {\r\n                        image.onload = () => resolve(true);\r\n                    }\r\n                }));\r\n            }\r\n            // resized timeouts - 0, render - 150\r\n            promises.push(new Promise((resolve) => setTimeout(() => resolve(true), this.instance.rendered ? 0 : 150)));\r\n            yield Promise.all(promises);\r\n            // height include margins\r\n            let elmHeight = parseInt(document.defaultView.getComputedStyle(this.instance.el, '').getPropertyValue('height'));\r\n            let elmMargin = parseInt(document.defaultView.getComputedStyle(this.instance.el, '').getPropertyValue('margin-top')) + parseInt(document.defaultView.getComputedStyle(this.instance.el, '').getPropertyValue('margin-bottom'));\r\n            height = elmHeight + elmMargin;\r\n            height += this.instance.el.offsetTop;\r\n            // Hide elements back\r\n            if (!this.instance.rendered) {\r\n                this.instance.el.style.visibility = 'unset';\r\n                this.instance.el.style.pointerEvents = 'unset';\r\n                this.instance.el.style.display = 'none';\r\n                this.instance.wrapperEl.style.visibility = 'unset';\r\n                this.instance.wrapperEl.style.pointerEvents = 'unset';\r\n                this.instance.wrapperEl.style.display = 'none';\r\n            }\r\n            this.calcHeightInProcess = false;\r\n            return height;\r\n        });\r\n    }\r\n    getClosestBreakY() {\r\n        return this.brs.reduce((prev, curr) => {\r\n            return (Math.abs(curr - this.instance.getPanelTransformY()) < Math.abs(prev - this.instance.getPanelTransformY()) ? curr : prev);\r\n        });\r\n    }\r\n}\n\nclass CupertinoPane {\r\n    constructor(selector, conf = {}) {\r\n        this.selector = selector;\r\n        this.disableDragEvents = false;\r\n        this.preventDismissEvent = false;\r\n        this.preventedDismiss = false;\r\n        this.rendered = false;\r\n        this.settings = (new Settings()).instance;\r\n        this.device = new Device();\r\n        this.swipeNextPoint = (diff, maxDiff, closest) => {\r\n            let brs = {};\r\n            let settingsBreaks = {};\r\n            if (this.settings.inverse) {\r\n                brs['top'] = this.breakpoints.breaks['bottom'];\r\n                brs['middle'] = this.breakpoints.breaks['middle'];\r\n                brs['bottom'] = this.breakpoints.breaks['top'];\r\n                settingsBreaks['top'] = Object.assign({}, this.settings.breaks['bottom']);\r\n                settingsBreaks['middle'] = Object.assign({}, this.settings.breaks['middle']);\r\n                settingsBreaks['bottom'] = Object.assign({}, this.settings.breaks['top']);\r\n            }\r\n            else {\r\n                brs = Object.assign({}, this.breakpoints.breaks);\r\n                settingsBreaks = Object.assign({}, this.settings.breaks);\r\n            }\r\n            if (this.breakpoints.currentBreakpoint === brs['top']) {\r\n                if (diff > maxDiff) {\r\n                    if (settingsBreaks['middle'].enabled) {\r\n                        return brs['middle'];\r\n                    }\r\n                    if (settingsBreaks['bottom'].enabled) {\r\n                        if (brs['middle'] < closest) {\r\n                            return closest;\r\n                        }\r\n                        return brs['bottom'];\r\n                    }\r\n                }\r\n                return brs['top'];\r\n            }\r\n            if (this.breakpoints.currentBreakpoint === brs['middle']) {\r\n                if (diff < -maxDiff) {\r\n                    if (settingsBreaks['top'].enabled) {\r\n                        return brs['top'];\r\n                    }\r\n                }\r\n                if (diff > maxDiff) {\r\n                    if (settingsBreaks['bottom'].enabled) {\r\n                        return brs['bottom'];\r\n                    }\r\n                }\r\n                return brs['middle'];\r\n            }\r\n            if (this.breakpoints.currentBreakpoint === brs['bottom']) {\r\n                if (diff < -maxDiff) {\r\n                    if (settingsBreaks['middle'].enabled) {\r\n                        if (brs['middle'] > closest) {\r\n                            return closest;\r\n                        }\r\n                        return brs['middle'];\r\n                    }\r\n                    if (settingsBreaks['top'].enabled) {\r\n                        return brs['top'];\r\n                    }\r\n                }\r\n                return brs['bottom'];\r\n            }\r\n            return closest;\r\n        };\r\n        // Element or selector\r\n        if (selector instanceof HTMLElement) {\r\n            this.selector = selector;\r\n        }\r\n        else {\r\n            this.selector = document.querySelector(selector);\r\n        }\r\n        // Unable attach selector or DOM element\r\n        if (!this.selector) {\r\n            console.warn('Cupertino Pane: wrong selector or DOM element specified', this.selector);\r\n            return;\r\n        }\r\n        // Pane class created\r\n        if (this.isPanePresented()) {\r\n            console.error('Cupertino Pane: specified selector or DOM element already in use', this.selector);\r\n            return;\r\n        }\r\n        this.el = this.selector;\r\n        this.el.style.display = 'none';\r\n        this.settings = Object.assign(Object.assign({}, this.settings), conf);\r\n        if (this.settings.parentElement) {\r\n            this.settings.parentElement = document.querySelector(this.settings.parentElement);\r\n        }\r\n        else {\r\n            this.settings.parentElement = this.el.parentElement;\r\n        }\r\n        this.breakpoints = new Breakpoints(this, this.settings);\r\n        this.events = new Events(this, this.settings, this.device, this.breakpoints);\r\n    }\r\n    drawBaseElements() {\r\n        // Parent \r\n        this.parentEl = this.settings.parentElement;\r\n        // Wrapper\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.classList.add('cupertino-pane-wrapper');\r\n        if (this.settings.inverse) {\r\n            this.wrapperEl.classList.add('inverse');\r\n        }\r\n        if (this.settings.cssClass) {\r\n            this.wrapperEl.className += ` ${this.settings.cssClass}`;\r\n        }\r\n        let internalStyles = '';\r\n        internalStyles += `\n      .cupertino-pane-wrapper {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n    `;\r\n        // Panel (appying transform ASAP, avoid timeouts for animate:true)\r\n        this.paneEl = document.createElement('div');\r\n        this.paneEl.style.transform = `translateY(${this.screenHeightOffset}px) translateZ(0px)`;\r\n        this.paneEl.classList.add('pane');\r\n        internalStyles += `\n      .cupertino-pane-wrapper .pane {\n        position: fixed;\n        z-index: 11;\n        width: 100%;\n        max-width: 500px;\n        left: 0px;\n        right: 0px;\n        margin-left: auto;\n        margin-right: auto;\n        background: var(--cupertino-pane-background, #ffffff);\n        color: var(--cupertino-pane-color, #333333);\n        box-shadow: var(--cupertino-pane-shadow, 0 4px 16px rgba(0,0,0,.12));\n        will-change: transform;\n        padding-top: 15px; \n        border-radius: var(--cupertino-pane-border-radius, 20px) \n                       var(--cupertino-pane-border-radius, 20px) \n                       0 0;\n      }\n      .cupertino-pane-wrapper.inverse .pane {\n        padding-bottom: 15px; \n        border-radius: 0 0 20px 20px;\n        border-radius: 0 0\n                       var(--cupertino-pane-border-radius, 20px) \n                       var(--cupertino-pane-border-radius, 20px);\n      }\n    `;\r\n        // Draggable\r\n        this.draggableEl = document.createElement('div');\r\n        this.draggableEl.classList.add('draggable');\r\n        if (this.settings.draggableOver) {\r\n            this.draggableEl.classList.add('over');\r\n        }\r\n        internalStyles += `\n      .cupertino-pane-wrapper .draggable {\n        padding: 5px;\n        position: absolute;\n        left: 0;\n        right: 0;\n        margin-left: auto;\n        margin-right: auto;\n        height: 30px;\n        z-index: 12;\n        top: 0;\n        bottom: initial;\n      }\n      .cupertino-pane-wrapper .draggable.over {\n        top: -30px;\n        padding: 15px;\n      }\n      .cupertino-pane-wrapper.inverse .draggable {\n        bottom: 0;\n        top: initial;\n      }\n      .cupertino-pane-wrapper.inverse .draggable.over {\n        bottom: -30px;\n        top: initial;\n      }\n    `;\r\n        // Move\r\n        this.moveEl = document.createElement('div');\r\n        this.moveEl.classList.add('move');\r\n        internalStyles += `\n      .cupertino-pane-wrapper .move {\n        margin: 0 auto;\n        height: 5px;\n        background: var(--cupertino-pane-move-background, #c0c0c0);\n        width: 36px;\n        border-radius: 4px;\n      }\n      .cupertino-pane-wrapper .draggable.over .move {\n        width: 70px; \n        background: var(--cupertino-pane-move-background, rgba(225, 225, 225, 0.6));\n        ${Support.backdropFilter ? `\n          backdrop-filter: saturate(180%) blur(20px);\n          -webkit-backdrop-filter: saturate(180%) blur(20px);\n        ` : ``}\n      }\n      .cupertino-pane-wrapper.inverse .move {\n        margin-top: 15px;\n      }\n      .cupertino-pane-wrapper.inverse .draggable.over .move {\n        margin-top: -5px;\n      }\n    `;\r\n        // Destroy button\r\n        this.destroyButtonEl = document.createElement('div');\r\n        this.destroyButtonEl.classList.add('destroy-button');\r\n        internalStyles += `\n      .cupertino-pane-wrapper .destroy-button {\n        width: 26px;\n        height: 26px;\n        position: absolute;\n        background: var(--cupertino-pane-destroy-button-background, #ebebeb);\n        right: 20px;\n        z-index: 14;\n        border-radius: 100%;\n        top: 16px;\n      }\n    `;\r\n        // Content user element\r\n        this.contentEl = this.el;\r\n        this.contentEl.style.transition = `opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`;\r\n        this.contentEl.style.overflowX = 'hidden';\r\n        // Backdrop\r\n        internalStyles += `\n      .cupertino-pane-wrapper .backdrop {\n        overflow: hidden;\n        position: fixed;\n        width: 100%;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        top: 0;\n        display: none;\n        z-index: 10;\n      }\n    `;\r\n        // Inject internal CSS\r\n        this.addStyle(internalStyles);\r\n        // inject DOM\r\n        this.parentEl.appendChild(this.wrapperEl);\r\n        this.wrapperEl.appendChild(this.paneEl);\r\n        this.paneEl.appendChild(this.contentEl);\r\n        if (this.settings.showDraggable) {\r\n            this.paneEl.appendChild(this.draggableEl);\r\n            this.draggableEl.appendChild(this.moveEl);\r\n        }\r\n    }\r\n    present(conf = { animate: false }) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.el)\r\n                return;\r\n            // Pane already exist and was rendered\r\n            if (this.isPanePresented() && this.rendered) {\r\n                this.moveToBreak(this.settings.initialBreak);\r\n                return;\r\n            }\r\n            // Pane already exist but not rendered in this class\r\n            if (this.isPanePresented() && !this.rendered) {\r\n                console.warn('Cupertino Pane: specified selector or DOM element already in use', this.selector);\r\n                return;\r\n            }\r\n            // Emit event\r\n            this.settings.onWillPresent();\r\n            this.updateScreenHeights();\r\n            this.drawBaseElements();\r\n            yield this.setBreakpoints();\r\n            // Necessary Inlines with breakpoints\r\n            this.paneEl.style.height = `${this.getPaneHeight()}px`;\r\n            if (this.settings.inverse) {\r\n                this.paneEl.style.top = `-${this.breakpoints.bottomer}px`;\r\n            }\r\n            // Show elements\r\n            this.wrapperEl.style.display = 'block';\r\n            this.contentEl.style.display = 'block';\r\n            this.wrapperEl.classList.add('rendered');\r\n            this.rendered = true;\r\n            if (this.settings.followerElement) {\r\n                if (!document.querySelector(this.settings.followerElement)) {\r\n                    console.warn('Cupertino Pane: wrong follower element selector specified', this.settings.followerElement);\r\n                    return;\r\n                }\r\n                this.followerEl = document.querySelector(this.settings.followerElement);\r\n                this.followerEl.style.willChange = 'transform, border-radius';\r\n                this.followerEl.style.transform = `translateY(0px) translateZ(0px)`;\r\n                this.followerEl.style.transition = `all ${this.settings.animationDuration}ms ${this.getTimingFunction((_a = this.settings.breaks[this.currentBreak()]) === null || _a === void 0 ? void 0 : _a.bounce)} 0s`;\r\n            }\r\n            if (this.settings.pushElement) {\r\n                this.pushElement = document.querySelector(this.settings.pushElement);\r\n            }\r\n            if ((this.settings.buttonClose && this.settings.buttonDestroy) && !this.settings.inverse) {\r\n                this.paneEl.appendChild(this.destroyButtonEl);\r\n                this.destroyButtonEl.addEventListener('click', (t) => this.destroy({ animate: true, destroyButton: true }));\r\n                this.destroyButtonEl.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n          <path fill=\"var(--cupertino-pane-icon-close-color, #7a7a7e);\" d=\"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z\"/>\n        </svg>`;\r\n            }\r\n            if (this.settings.bottomClose) {\r\n                this.settings.breaks.bottom.enabled = true;\r\n            }\r\n            if (this.settings.freeMode) {\r\n                this.settings.lowerThanBottom = false;\r\n            }\r\n            if (this.settings.backdrop) {\r\n                this.renderBackdrop();\r\n            }\r\n            /****** Fix android issues *******/\r\n            if (this.device.android) {\r\n                // Body patch prevent android pull-to-refresh\r\n                document.body.style['overscrollBehaviorY'] = 'none';\r\n            }\r\n            /****** Attach Events *******/\r\n            this.events.attachAllEvents();\r\n            /****** Animation & Transition ******/\r\n            if (conf.animate) {\r\n                this.doTransition({ type: 'present', translateY: this.breakpoints.breaks[this.settings.initialBreak] });\r\n            }\r\n            else {\r\n                // No initial transitions\r\n                this.breakpoints.prevBreakpoint = this.settings.initialBreak;\r\n                this.paneEl.style.transform = `translateY(${this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`;\r\n                if (this.settings.backdrop) {\r\n                    this.backdropEl.style.display = `block`;\r\n                }\r\n                if (this.settings.pushElement) {\r\n                    this.pushTransition(this.breakpoints.breaks[this.settings.initialBreak], 'unset');\r\n                }\r\n                // Emit event\r\n                this.settings.onDidPresent();\r\n            }\r\n            this.checkOpacityAttr(this.breakpoints.currentBreakpoint);\r\n            // Some timeout to get offsetTop\r\n            yield new Promise((resolve) => setTimeout(() => resolve(true), 150));\r\n            this.scrollElementInit();\r\n            this.checkOverflowAttr(this.breakpoints.currentBreakpoint);\r\n        });\r\n    }\r\n    getPaneHeight() {\r\n        if (!this.settings.inverse) {\r\n            return this.screen_height - this.breakpoints.topper - this.settings.bottomOffset;\r\n        }\r\n        return this.breakpoints.bottomer + this.settings.bottomOffset;\r\n    }\r\n    updateScreenHeights() {\r\n        if (this.settings.inverse) {\r\n            this.screen_height = window.innerHeight;\r\n            this.screenHeightOffset = 0;\r\n        }\r\n        else {\r\n            this.screen_height = window.innerHeight;\r\n            this.screenHeightOffset = window.innerHeight;\r\n        }\r\n    }\r\n    scrollElementInit() {\r\n        let attrElements = this.el.querySelectorAll('[overflow-y]');\r\n        if (!attrElements.length || attrElements.length > 1) {\r\n            this.overflowEl = this.contentEl;\r\n        }\r\n        else {\r\n            this.overflowEl = attrElements[0];\r\n            this.overflowEl.style.overflowX = 'hidden';\r\n        }\r\n        if (this.settings.topperOverflow) {\r\n            if (this.settings.upperThanTop) {\r\n                console.warn('Cupertino Pane: \"upperThanTop\" allowed for disabled \"topperOverflow\"');\r\n            }\r\n            this.setOverflowHeight();\r\n        }\r\n    }\r\n    setOverflowHeight(offset = 0) {\r\n        if (!this.settings.inverse) {\r\n            this.overflowEl.style.height = `${this.getPaneHeight()\r\n                - this.settings.topperOverflowOffset\r\n                - this.overflowEl.offsetTop\r\n                - offset}px`;\r\n        }\r\n        else {\r\n            this.overflowEl.style.height = `${this.getPaneHeight()\r\n                - 30\r\n                - this.settings.topperOverflowOffset\r\n                - this.overflowEl.offsetTop}px`;\r\n        }\r\n    }\r\n    checkOpacityAttr(val) {\r\n        let attrElements = this.el.querySelectorAll('[hide-on-bottom]');\r\n        if (!attrElements.length)\r\n            return;\r\n        if (this.settings.inverse)\r\n            return;\r\n        attrElements.forEach((item) => {\r\n            item.style.transition = `opacity ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`;\r\n            item.style.opacity = (val >= this.breakpoints.breaks['bottom']) ? '0' : '1';\r\n        });\r\n    }\r\n    checkOverflowAttr(val) {\r\n        if (!this.settings.topperOverflow)\r\n            return;\r\n        if (!this.settings.inverse) {\r\n            this.overflowEl.style.overflowY = (val <= this.breakpoints.topper) ? 'auto' : 'hidden';\r\n        }\r\n        else {\r\n            this.overflowEl.style.overflowY = (val >= this.breakpoints.bottomer) ? 'auto' : 'hidden';\r\n        }\r\n    }\r\n    isPanePresented() {\r\n        // Check through all presented panes\r\n        let wrappers = Array.from(document.querySelectorAll(`.cupertino-pane-wrapper.rendered`));\r\n        if (!wrappers.length)\r\n            return false;\r\n        return wrappers.find((item) => item.contains(this.selector)) ? true : false;\r\n    }\r\n    /**\r\n     * Private Utils methods\r\n     */\r\n    getTimingFunction(bounce) {\r\n        return bounce ? 'cubic-bezier(0.175, 0.885, 0.370, 1.120)' : this.settings.animationType;\r\n    }\r\n    isBackdropPresented() {\r\n        return document.querySelector(`.cupertino-pane-wrapper .backdrop`)\r\n            ? true : false;\r\n    }\r\n    renderBackdrop() {\r\n        this.backdropEl = document.createElement('div');\r\n        this.backdropEl.classList.add('backdrop');\r\n        this.backdropEl.style.transition = `all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`;\r\n        this.backdropEl.style.backgroundColor = `rgba(0,0,0, ${this.settings.backdropOpacity})`;\r\n        this.wrapperEl.appendChild(this.backdropEl);\r\n        this.backdropEl.addEventListener('click', (t) => this.settings.onBackdropTap());\r\n    }\r\n    /**\r\n     * Utility function to add minified internal CSS to head.\r\n     * @param {string} styleString\r\n     */\r\n    addStyle(styleString) {\r\n        if (document.querySelector('#cupertino-panes-internal'))\r\n            return;\r\n        const style = document.createElement('style');\r\n        style.id = 'cupertino-panes-internal';\r\n        styleString = styleString.replace(/\\s\\s+/g, ' ');\r\n        style.textContent = styleString;\r\n        document.head.prepend(style);\r\n    }\r\n    ;\r\n    /**\r\n     * Backdrop\r\n     */\r\n    backdrop(conf = { show: true }) {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call backdrop()`);\r\n            return null;\r\n        }\r\n        if (!this.isBackdropPresented()) {\r\n            this.renderBackdrop();\r\n            // Reset events to attach backdrop stop propagation\r\n            this.events.resetEvents();\r\n        }\r\n        const transitionEnd = () => {\r\n            this.backdropEl.style.transition = `initial`;\r\n            this.backdropEl.style.display = `none`;\r\n            this.backdropEl.removeEventListener('transitionend', transitionEnd);\r\n        };\r\n        this.backdropEl.style.transition = `all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`;\r\n        this.backdropEl.style.backgroundColor = 'rgba(0,0,0,.0)';\r\n        if (!conf.show) {\r\n            // Destroy\r\n            if (this.backdropEl.style.display === 'none')\r\n                return;\r\n            this.backdropEl.addEventListener('transitionend', transitionEnd);\r\n        }\r\n        else {\r\n            // Present\r\n            this.backdropEl.style.display = 'block';\r\n            setTimeout(() => {\r\n                this.backdropEl.style.backgroundColor = `rgba(0,0,0, ${this.settings.backdropOpacity})`;\r\n            }, 50);\r\n        }\r\n    }\r\n    // TODO: static method\r\n    getPanelTransformY() {\r\n        const translateYRegex = /\\.*translateY\\((.*)px\\)/i;\r\n        return parseFloat(translateYRegex.exec(this.paneEl.style.transform)[1]);\r\n    }\r\n    /************************************\r\n     * Public user methods\r\n     */\r\n    /**\r\n     * Prevent dismiss event\r\n     */\r\n    preventDismiss(val = false) {\r\n        this.preventDismissEvent = val;\r\n    }\r\n    /**\r\n     * Disable pane drag events\r\n     */\r\n    disableDrag() {\r\n        this.disableDragEvents = true;\r\n    }\r\n    /**\r\n     * Enable pane drag events\r\n     */\r\n    enableDrag() {\r\n        this.disableDragEvents = false;\r\n    }\r\n    /**\r\n     * Public user method to reset breakpoints\r\n     * @param conf\r\n     */\r\n    setBreakpoints(conf) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.isPanePresented() && !conf) {\r\n                console.warn(`Cupertino Pane: Provide any breaks configuration`);\r\n                return;\r\n            }\r\n            yield this.breakpoints.buildBreakpoints(conf);\r\n        });\r\n    }\r\n    calcFitHeight() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // Allow user to call method asap, dont check with this.isPanePresented()\r\n            if (!this.wrapperEl || !this.el) {\r\n                return null;\r\n            }\r\n            if (this.breakpoints.calcHeightInProcess) {\r\n                console.warn(`Cupertino Pane: calcFitHeight() already in process`);\r\n                return null;\r\n            }\r\n            yield this.breakpoints.buildBreakpoints(this.breakpoints.lockedBreakpoints);\r\n        });\r\n    }\r\n    moveToBreak(val) {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call moveToBreak()`);\r\n            return null;\r\n        }\r\n        if (!this.settings.breaks[val].enabled) {\r\n            console.warn('Cupertino Pane: %s breakpoint disabled', val);\r\n            return;\r\n        }\r\n        this.checkOpacityAttr(this.breakpoints.breaks[val]);\r\n        this.checkOverflowAttr(this.breakpoints.breaks[val]);\r\n        this.doTransition({ type: 'breakpoint', translateY: this.breakpoints.breaks[val] });\r\n        this.breakpoints.currentBreakpoint = this.breakpoints.breaks[val];\r\n    }\r\n    moveToHeight(val) {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call moveToHeight()`);\r\n            return null;\r\n        }\r\n        let translateY = this.screenHeightOffset ? this.screen_height - val : val;\r\n        this.checkOpacityAttr(translateY);\r\n        this.doTransition({ type: 'breakpoint', translateY });\r\n    }\r\n    hide() {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call hide()`);\r\n            return null;\r\n        }\r\n        if (this.isHidden()) {\r\n            console.warn(`Cupertino Pane: Pane already hidden`);\r\n            return null;\r\n        }\r\n        this.doTransition({ type: 'hide', translateY: this.screenHeightOffset });\r\n    }\r\n    isHidden() {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call isHidden()`);\r\n            return null;\r\n        }\r\n        return this.paneEl.style.transform === `translateY(${this.screenHeightOffset}px) translateZ(0px)`;\r\n    }\r\n    currentBreak() {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call currentBreak()`);\r\n            return null;\r\n        }\r\n        return this.breakpoints.getCurrentBreakName();\r\n    }\r\n    ;\r\n    destroyResets() {\r\n        this.parentEl.appendChild(this.contentEl);\r\n        this.wrapperEl.remove();\r\n        /****** Detach Events *******/\r\n        this.events.detachAllEvents();\r\n        // Reset vars\r\n        delete this.rendered;\r\n        delete this.breakpoints.prevBreakpoint;\r\n        // Reset styles\r\n        this.contentEl.style.display = 'none';\r\n    }\r\n    destroy(conf = {\r\n        animate: false,\r\n        destroyButton: false\r\n    }) {\r\n        if (!this.isPanePresented()) {\r\n            console.warn(`Cupertino Pane: Present pane before call destroy()`);\r\n            return null;\r\n        }\r\n        // Prevent dismiss\r\n        if (this.preventDismissEvent) {\r\n            // Emit event with prevent dismiss if not already sent from drag event\r\n            if (!this.preventedDismiss) {\r\n                this.settings.onWillDismiss({ prevented: true });\r\n                this.moveToBreak(this.breakpoints.prevBreakpoint);\r\n            }\r\n            return;\r\n        }\r\n        // Emit event\r\n        this.settings.onWillDismiss();\r\n        /****** Animation & Transition ******/\r\n        if (conf.animate) {\r\n            this.doTransition({ type: 'destroy', translateY: this.screenHeightOffset, destroyButton: conf.destroyButton });\r\n        }\r\n        else {\r\n            this.destroyResets();\r\n            // Emit event\r\n            this.settings.onDidDismiss({ destroyButton: conf.destroyButton });\r\n        }\r\n    }\r\n    pushTransition(newPaneY, transition) {\r\n        newPaneY = this.screenHeightOffset - newPaneY;\r\n        const topHeight = this.settings.pushMinHeight ? this.settings.pushMinHeight : this.screenHeightOffset - this.breakpoints.bottomer;\r\n        const minHeight = this.screenHeightOffset - this.breakpoints.topper;\r\n        this.pushElement.style.transition = transition;\r\n        const setStyles = (scale, y, border, contrast) => {\r\n            this.pushElement.style.transform = `translateY(${y}px) scale(${scale})`;\r\n            this.pushElement.style.borderRadius = `${border}px`;\r\n            this.pushElement.style.filter = `contrast(${contrast})`;\r\n        };\r\n        if (newPaneY <= topHeight) {\r\n            setStyles(1, 0, 0, 1);\r\n            return;\r\n        }\r\n        const getXbyY = (min, max) => {\r\n            let val = (minHeight * max - topHeight * min) * -1;\r\n            val -= (min - max) * newPaneY;\r\n            val /= (topHeight - minHeight);\r\n            if (val > max)\r\n                val = max;\r\n            if (val < min)\r\n                val = min;\r\n            return val;\r\n        };\r\n        setStyles(getXbyY(0.93, 1), getXbyY(-6 - this.settings.pushYOffset, 0), // *-1 for reverse animation\r\n        getXbyY(-10, 0) * -1, getXbyY(0.85, 1));\r\n    }\r\n    /***********************************\r\n     * Transitions handler\r\n     */\r\n    doTransition(params = {}) {\r\n        var _a;\r\n        // touchmove simple event\r\n        if (params.type === 'move') {\r\n            this.paneEl.style.transition = 'all 0ms linear 0ms';\r\n            this.paneEl.style.transform = `translateY(${params.translateY}px) translateZ(0px)`;\r\n            // Bind for follower same transitions\r\n            if (this.followerEl) {\r\n                this.followerEl.style.transition = 'all 0ms linear 0ms';\r\n                this.followerEl.style.transform = `translateY(${params.translateY - this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`;\r\n            }\r\n            // Push transition\r\n            if (this.settings.pushElement) {\r\n                this.pushTransition(this.getPanelTransformY(), 'all 0ms linear 0ms');\r\n            }\r\n            return;\r\n        }\r\n        // Transition end\r\n        const transitionEnd = () => {\r\n            if (params.type === 'destroy') {\r\n                this.destroyResets();\r\n            }\r\n            this.paneEl.style.transition = `initial`;\r\n            // Bind for follower same transitions\r\n            if (this.followerEl) {\r\n                this.followerEl.style.transition = `initial`;\r\n            }\r\n            // Backdrop \r\n            if (this.settings.backdrop) {\r\n                if (params.type === 'destroy' || params.type === 'hide') {\r\n                    this.backdropEl.style.transition = `initial`;\r\n                    this.backdropEl.style.display = `none`;\r\n                }\r\n            }\r\n            // Emit event\r\n            if (params.type === 'present') {\r\n                this.settings.onDidPresent();\r\n            }\r\n            if (params.type === 'destroy') {\r\n                this.settings.onDidDismiss({ destroyButton: params.destroyButton });\r\n            }\r\n            this.settings.onTransitionEnd({ target: document.body.contains(this.paneEl) ? this.paneEl : null });\r\n            // Remove listener\r\n            this.paneEl.removeEventListener('transitionend', transitionEnd);\r\n        };\r\n        // MoveToBreak, Touchend, Present, Hide, Destroy events\r\n        if (params.type === 'breakpoint'\r\n            || params.type === 'end'\r\n            || params.type === 'present'\r\n            || params.type === 'hide'\r\n            || params.type === 'destroy') {\r\n            // backdrop \r\n            if (this.settings.backdrop) {\r\n                if (this.isHidden()\r\n                    || params.type === 'hide'\r\n                    || params.type === 'destroy'\r\n                    || params.type === 'present') {\r\n                    this.backdropEl.style.backgroundColor = 'rgba(0,0,0,.0)';\r\n                    this.backdropEl.style.transition = `all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`;\r\n                    if (params.type !== 'hide' && params.type !== 'destroy') {\r\n                        this.backdropEl.style.display = 'block';\r\n                        setTimeout(() => {\r\n                            this.backdropEl.style.backgroundColor = `rgba(0,0,0, ${this.settings.backdropOpacity})`;\r\n                        }, 50);\r\n                    }\r\n                }\r\n            }\r\n            // freemode\r\n            if (params.type === 'end' && this.settings.freeMode)\r\n                return;\r\n            // Get timing function && push for next \r\n            // TODO: getBreakByHeight or by translateY()\r\n            const nextBreak = Object.entries(this.settings.breaks).find(val => val[1].height === (this.screenHeightOffset - params.translateY));\r\n            const timingForNext = this.getTimingFunction(nextBreak && ((_a = nextBreak[1]) === null || _a === void 0 ? void 0 : _a.bounce) ? true : false);\r\n            // style\r\n            this.paneEl.style.transition = `transform ${this.settings.animationDuration}ms ${timingForNext} 0s`;\r\n            // Bind for follower same transitions\r\n            if (this.followerEl) {\r\n                this.followerEl.style.transition = `transform ${this.settings.animationDuration}ms ${timingForNext} 0s`;\r\n            }\r\n            // Push transition\r\n            if (this.settings.pushElement) {\r\n                // Reason of timeout is to hide empty space when present pane and push element\r\n                // we should start push after pushMinHeight but for present \r\n                // transition we can't calculate where pane Y is.\r\n                setTimeout(() => {\r\n                    this.pushTransition(params.translateY, `all ${this.settings.animationDuration}ms ${this.settings.animationType} 0s`);\r\n                }, this.settings.pushYOffset ? 50 : 0);\r\n            }\r\n            // Main transitions\r\n            setTimeout(() => {\r\n                // Emit event\r\n                this.settings.onTransitionStart({ translateY: { new: params.translateY } });\r\n                this.paneEl.style.transform = `translateY(${params.translateY}px) translateZ(0px)`;\r\n                // Bind for follower same transitions\r\n                if (this.followerEl) {\r\n                    this.followerEl.style.transform = `translateY(${params.translateY - this.breakpoints.breaks[this.settings.initialBreak]}px) translateZ(0px)`;\r\n                }\r\n            }, params.type === 'present' ? 50 : 0);\r\n            let getNextBreakpoint = Object.entries(this.breakpoints.breaks).find(val => val[1] === params.translateY);\r\n            if (getNextBreakpoint) {\r\n                this.breakpoints.prevBreakpoint = getNextBreakpoint[0];\r\n            }\r\n            this.paneEl.addEventListener('transitionend', transitionEnd);\r\n            return;\r\n        }\r\n    }\r\n}\n\nexport { CupertinoPane };\n//# sourceMappingURL=cupertino-pane.esm.bundle.js.map\n","<ion-grid class=\"content border-bottom ion-padding-bottom\">\r\n  <ion-row>\r\n    <ion-col size=\"12\" class=\"no-top-margin\">\r\n      <ion-segment mode=\"md\" [(ngModel)]=\"segment\">\r\n        <!-- <ion-segment-button value=\"sales\">\r\n          <ion-label>{{ \"Menu_Sales\" | translate }}</ion-label>\r\n        </ion-segment-button>\r\n        <ion-segment-button value=\"documents\">\r\n          <ion-label>{{ \"Menu_Documents\" | translate }}</ion-label>\r\n        </ion-segment-button>\r\n        <ion-segment-button value=\"aftersales\">\r\n          <ion-label>{{ \"Menu_Aftersales\" | translate }}</ion-label>\r\n        </ion-segment-button> -->\r\n      </ion-segment>\r\n    </ion-col>\r\n  </ion-row>\r\n  <ng-container *ngFor=\"let item of swipeMenu\">\r\n    <ion-row class=\"ion-no-margin ion-no-padding\" *ngIf=\"item?.type === segment\" (click)=\"view(item.value)\">\r\n      <ion-col size=\"2\">\r\n        <ion-avatar class=\"center\" item-start class=\"border\">\r\n          <img src=\"{{ item.url }}\" />\r\n        </ion-avatar>\r\n      </ion-col>\r\n      <ion-col>\r\n        <ion-text>\r\n          <h3>{{ item.title }}</h3>\r\n        </ion-text>\r\n        <ion-text class=\"mat-small\">\r\n          {{ item.desc }}\r\n        </ion-text>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ng-container>\r\n  <ion-row>\r\n    <ion-col size=\"3\" *ngFor=\"let item of icons\" class=\"ion-text-center\">\r\n      <ion-avatar item-start class=\"border\" (click)=\"view(item.value)\">\r\n        <img src=\"{{ item.url }}\" />\r\n      </ion-avatar>\r\n      <ion-label class=\"mat-small\">{{ item.title }}</ion-label>\r\n    </ion-col>\r\n  </ion-row>\r\n</ion-grid>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CupertinoPane, CupertinoSettings } from 'cupertino-pane';\r\nimport { MenuIconModel } from 'src/app/models/common/menu-icons.model';\r\nimport { NewLeadsRoutingKeys } from 'src/app/pages/new-leads/new-leads-routing.keys';\r\nimport { EditOpportunityPageRoutingKeys } from 'src/app/pages/opportunity/edit-opportunity/edit-opportunity.keys';\r\nimport { TasksPageRoutingKeys } from 'src/app/pages/task/tasks-routing.keys';\r\nimport { HomeTestdrivePageRoutingKeys } from 'src/app/pages/testdrive/hometestdrives/hometestdrives-routing.keys';\r\nimport { TradeinsPageRoutingKeys } from 'src/app/pages/tradein/tradeins/tradeins-routing.keys';\r\nimport { MenuService } from 'src/app/services/common/menu/menu.service';\r\n@Component({\r\n  selector: 'app-menu-icons',\r\n  templateUrl: './menu-icons.component.html',\r\n  styleUrls: ['./menu-icons.component.scss'],\r\n})\r\nexport class MenuIconsComponent implements OnInit {\r\n  icons: MenuIconModel[];\r\n  swipeUpPane: CupertinoPane;\r\n  swipeMenu: MenuIconModel[];\r\n  segment = 'sales';\r\n\r\n  constructor(private router: Router, private menu: MenuService) {}\r\n\r\n  ngOnInit() {\r\n    this.initCupertino();\r\n    this.icons = this.menu.getMainMenu();\r\n  }\r\n\r\n  initCupertino() {\r\n    const settings: CupertinoSettings = {\r\n      breaks: {\r\n        top: { enabled: true, height: 750 },\r\n        middle: { enabled: false },\r\n        bottom: { enabled: false },\r\n      },\r\n      initialBreak: 'top',\r\n      backdrop: true,\r\n      upperThanTop: false,\r\n      bottomClose: true,\r\n      backdropOpacity: 0.5,\r\n      onBackdropTap: () => this.destroyDrawer(),\r\n      onDidDismiss: () => {\r\n        const tabBar = document.querySelector('ion-tab-bar');\r\n        const fabButton = document.querySelector('ion-fab-button');\r\n        fabButton.style.display = '';\r\n        tabBar.style.display = '';\r\n      },\r\n    };\r\n    this.swipeUpPane = new CupertinoPane('.cupertino-pane', settings);\r\n  }\r\n\r\n  destroyDrawer() {\r\n    if (this.swipeUpPane.isPanePresented()) {\r\n      this.swipeUpPane.destroy({ animate: true });\r\n    }\r\n  }\r\n\r\n  view(title: string) {\r\n    if (title === 'More') {\r\n      this.swipeMenu = this.menu.getAllMenu();\r\n      this.swipeUpPane.present({ animate: true });\r\n      const tabBar = document.querySelector('ion-tab-bar');\r\n      const fabButton = document.querySelector('ion-fab-button');\r\n      fabButton.style.display = 'none';\r\n      tabBar.style.display = 'none';\r\n    } else if (title === 'Open Opportunity') {\r\n      this.router.navigate([`${EditOpportunityPageRoutingKeys.BASE}/${EditOpportunityPageRoutingKeys.PARAM_ID}`]);\r\n    } else if (title === 'New Contact') {\r\n      this.router.navigate([`${NewLeadsRoutingKeys.BASE}/${NewLeadsRoutingKeys.OPPID}`]);\r\n    } else if (title === 'Test Drive') {\r\n      this.router.navigate([`${HomeTestdrivePageRoutingKeys.BASE}/${HomeTestdrivePageRoutingKeys.OPP_PARAM_ID}`]);\r\n      // this.router.navigate([`${TestdrivePageRoutingKeys.BASE}?${TestdrivePageRoutingKeys.OPP_PARAM_ID}=12345`]); // set oarans\r\n    } else if (title === 'Task') {\r\n      this.router.navigate([`${TasksPageRoutingKeys.BASE}/${TasksPageRoutingKeys.NEW}`]);\r\n    } else if (title === 'Trade-In') {\r\n      this.router.navigate([`${TradeinsPageRoutingKeys.BASE}/${TradeinsPageRoutingKeys.PARAM_ID}`]);\r\n    }\r\n    if (title !== 'More') {\r\n      this.destroyDrawer();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomePageRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { first } from 'rxjs/operators';\r\nimport { Subscription, combineLatest, from } from 'rxjs';\r\nimport { AuthenticationService } from 'src/app/services/common/auth/auth.service';\r\nimport { ErrorService } from 'src/app/services/common/error/error.service';\r\nimport { UserInfo } from 'src/app/models/common/user.model';\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage implements OnInit {\r\n  user: UserInfo;\r\n  authState$ = this.authService.subAuthState();\r\n  private subs: Subscription = new Subscription();\r\n  constructor(private authService: AuthenticationService, private errService: ErrorService) {}\r\n\r\n  ngOnInit() {\r\n    try {\r\n      const subUser = this.authService.subUser().subscribe(\r\n        async (user) => {\r\n          this.user = user;\r\n        },\r\n        (err) => this.errService.handleError(err)\r\n      );\r\n      this.subs.add(subUser);\r\n    } catch (err) {\r\n      this.errService.logError(err);\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    const subShowAuth = combineLatest([this.authService.subUser()])\r\n      .pipe(\r\n        first(([usr]) => {\r\n          return usr != null && !usr.isLoggedIn;\r\n        })\r\n      )\r\n      .subscribe(\r\n        () => {},\r\n        (err) => this.errService.logError(err)\r\n      );\r\n    this.subs.add(subShowAuth);\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border\">\r\n  <ion-toolbar color=\"primary\" mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>{{\"HomePage_Home\"|translate}}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content class=\"ion-padding\">\r\n  <ion-grid>\r\n    <ion-row class=\"border-bottom ion-no-margin ion-no-padding ion-padding-bottom\">\r\n      <ion-col>\r\n        <ion-text color=\"primary\">\r\n          <h3>{{user?.name}}</h3>\r\n        </ion-text>\r\n        <ion-text>\r\n          <ion-label class=\"mat-small\"> {{user?.companyName}} </ion-label>\r\n          <ion-label class=\"mat-small\"> {{user?.teamName}} </ion-label>\r\n        </ion-text>\r\n      </ion-col>\r\n      <ion-col size=\"3\">\r\n        <ion-avatar class=\"profile center\">\r\n          <img src=\"{{user?.userPhoto + '?oauth_token=' + user?.accessToken}}\" />\r\n        </ion-avatar>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row>\r\n      <ion-col size=\"12\">\r\n        <app-menu-icons></app-menu-icons>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-row class=\"ion-no-margin ion-no-padding ion-padding-top mb-57\">\r\n      <ion-col>\r\n        <ion-text>\r\n          <h4>{{\"HomePage_WhatsNew\"|translate}}</h4>\r\n        </ion-text>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row class=\"ion-no-margin ion-no-padding\">\r\n      <ion-col>\r\n        <ion-card class=\"ion-no-margin ion-no-padding ion-margin-top\">\r\n          <img src=\"https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__340.jpg\" class=\"card-img\" />\r\n          <ion-card-header>\r\n            <ion-card-title>\r\n              <ion-text>\r\n                <h4>{{\"HomePage_ComingSoon\"|translate}}</h4>\r\n              </ion-text>\r\n            </ion-card-title>\r\n          </ion-card-header>\r\n        </ion-card>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</ion-content>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { MenuIconsComponent } from './components/menu-icons/menu-icons.component';\r\nimport { HomePageRoutingModule } from './home-routing.module';\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule, TranslateModule, HomePageRoutingModule],\r\n  declarations: [HomePage, MenuIconsComponent],\r\n})\r\nexport class HomePageModule {}\r\n"],"sourceRoot":"webpack:///"}