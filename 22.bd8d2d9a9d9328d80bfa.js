(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{F4UR:function(n,i,t){"use strict";t.r(i),t.d(i,"LoginPageModule",function(){return I});var e=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),c=t("tyNb"),s=t("mrSG"),b=t("quSY"),a=t("itXk"),g=t("SxV6"),l=t("e0yV"),u=t("0y7x"),h=t("fXoL"),d=t("0C1u"),v=t("7zc5"),f=t("MPpC");function p(n,i){if(1&n){const n=h.Ob();h.Nb(0,"ion-grid",1),h.Nb(1,"ion-row",5),h.Nb(2,"ion-col",13),h.Nb(3,"ion-button",14),h.Vb("click",function(){return h.qc(n),h.Zb(2).login()}),h.xc(4,"LOGIN"),h.Mb(),h.Mb(),h.Mb(),h.Mb()}}function S(n,i){if(1&n){const n=h.Ob();h.Nb(0,"ion-grid",1),h.Nb(1,"ion-row",15),h.Nb(2,"ion-col",16),h.Vb("click",function(){return h.qc(n),h.Zb(2).authBiometric()}),h.Jb(3,"ion-icon",17),h.Mb(),h.Mb(),h.Mb()}}function M(n,i){1&n&&(h.Nb(0,"ion-grid",1),h.Nb(1,"ion-row",15),h.Nb(2,"ion-col",18),h.Jb(3,"ion-spinner",19),h.Mb(),h.Mb(),h.Mb())}function N(n,i){1&n&&(h.Nb(0,"ion-grid",1),h.Nb(1,"ion-row",15),h.Nb(2,"ion-col",18),h.Nb(3,"ion-text",7),h.Nb(4,"h2"),h.xc(5,"WELCOME"),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Mb())}function m(n,i){if(1&n&&(h.Nb(0,"ion-col",8),h.vc(1,p,5,0,"ion-grid",12),h.vc(2,S,4,0,"ion-grid",12),h.vc(3,M,4,0,"ion-grid",12),h.vc(4,N,6,0,"ion-grid",12),h.Mb()),2&n){const n=i.$implicit;h.xb(1),h.gc("ngIf",!n.isLoggingIn&&!n.hasSavedToken),h.xb(1),h.gc("ngIf",!n.isLoggingIn&&n.hasSavedToken&&!n.loginSuccess),h.xb(1),h.gc("ngIf",n.isLoggingIn),h.xb(1),h.gc("ngIf",!n.isLoggingIn&&n.loginSuccess)}}const x=[{path:"",component:(()=>{class n{constructor(n,i,t,e,o,r){this.authService=n,this.router=i,this.navCtrl=t,this.errService=e,this.zone=o,this.VaultSrvc=r,this.user$=this.authService.subUser(),this.authState$=this.authService.subAuthState(),this.subs=new b.a}ngOnInit(){this.user=new l.a;try{const n=this.authService.subUser().subscribe(n=>Object(s.a)(this,void 0,void 0,function*(){if(this.router.isActive(u.a.BASE,!0)&&n.isLoggedIn){const n=(new Date).getTime();this.VaultSrvc.setSession(n.toString()).then(()=>{this.navCtrl.navigateForward(this.authService.redirectIfAny())}).catch(()=>{this.authService.normalizer()})}}),n=>this.errService.handleError(n));this.subs.add(n)}catch(n){this.errService.logError(n)}}ngOnDestroy(){this.subs.unsubscribe()}ngAfterContentInit(){const n=Object(a.a)([this.authService.subUser(),this.authService.subAuthState()]).pipe(Object(g.a)(([n,i])=>null!=n&&!n.isLoggedIn&&i.hasSavedToken&&!i.loadedOAuth)).subscribe(()=>{},n=>{console.log("error here"),this.errService.logError(n)});this.subs.add(n)}login(){try{this.authService.signIn().subscribe(n=>Object(s.a)(this,void 0,void 0,function*(){console.log(n)}),n=>{console.error("err at login page",n),this.errService.presentServerErr(n),this.errService.logError(n)})}catch(n){this.errService.presentServerErr(n),this.errService.logError(n)}}authBiometric(){try{this.authService.biometricLogin().subscribe(n=>{},n=>{console.log(n),this.errService.logError(n)})}catch(n){console.log(n),this.errService.logError(n)}}}return n.\u0275fac=function(i){return new(i||n)(h.Ib(d.a),h.Ib(c.g),h.Ib(r.ob),h.Ib(v.a),h.Ib(h.A),h.Ib(f.a))},n.\u0275cmp=h.Cb({type:n,selectors:[["app-login"]],decls:18,vars:3,consts:[["fullscreen","true","scrollY","false",1,"login"],[1,"ion-no-padding"],[1,"ion-align-items-center","ion-justify-content-center","login-title"],[1,"ion-text-center","ion-margin-top"],[1,"mat-display-3"],[1,"ion-align-items-center"],[1,"ion-text-center","ion-text-uppercase"],["color","primary"],[1,"ion-text-center"],["src","../../../assets/images/login/login.png"],[1,"ion-align-items-center","ion-justify-content-center","login-button"],["class","ion-text-center",4,"ngIf"],["class","ion-no-padding",4,"ngIf"],[1,"loginBtn"],["expand","block","fill","solid","color","secondary",1,"ion-margin-start","ion-margin-end",3,"click"],[1,"ion-justify-content-center","ion-align-item-center"],[1,"ion-text-center","ion-no-padding",3,"click"],["name","finger-print",1,"fingerprint"],[1,"ion-text-center","ion-no-padding"],["color","secondary"]],template:function(n,i){1&n&&(h.Nb(0,"ion-content",0),h.Nb(1,"ion-grid",1),h.Nb(2,"ion-row",2),h.Nb(3,"ion-col",3),h.Nb(4,"ion-text"),h.Nb(5,"ion-text",4),h.xc(6,"MOBY"),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(7,"ion-row",5),h.Nb(8,"ion-col",6),h.Nb(9,"ion-text",7),h.Nb(10,"h2"),h.xc(11,"Your Mobile Buddy"),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(12,"ion-row",5),h.Nb(13,"ion-col",8),h.Jb(14,"img",9),h.Mb(),h.Mb(),h.Nb(15,"ion-row",10),h.vc(16,m,5,4,"ion-col",11),h.ac(17,"async"),h.Mb(),h.Mb(),h.Mb()),2&n&&(h.xb(16),h.gc("ngIf",h.bc(17,1,i.authState$)))},directives:[r.q,r.v,r.T,r.p,r.fb,e.m,r.h,r.x,r.bb],pipes:[e.b],styles:[".fingerprint[_ngcontent-%COMP%]{color:var(--ion-color-secondary);font-size:50px}ion-row.login-title[_ngcontent-%COMP%]{height:25vh}ion-row.login-button[_ngcontent-%COMP%]{height:10vh}ion-content[_ngcontent-%COMP%]{--background:#cfd8dc}"]}),n})()}];let y=(()=>{class n{}return n.\u0275mod=h.Gb({type:n}),n.\u0275inj=h.Fb({factory:function(i){return new(i||n)},imports:[[c.i.forChild(x)],c.i]}),n})(),I=(()=>{class n{}return n.\u0275mod=h.Gb({type:n}),n.\u0275inj=h.Fb({factory:function(i){return new(i||n)},imports:[[e.c,o.e,r.kb,y]]}),n})()}}]);
//# sourceMappingURL=22.bd8d2d9a9d9328d80bfa.js.map