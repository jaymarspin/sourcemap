(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{E7cN:function(n,t,i){"use strict";i.r(t),i.d(t,"ContactListPageModule",function(){return R});var o=i("ofXK"),e=i("3Pt+"),c=i("TEn/"),b=i("sYmb"),s=i("tyNb"),r=i("quSY"),a=i("cp0P"),l=i("Cfvw"),g=i("LRne"),u=i("5+tZ"),h=i("vkgz"),d=i("AytR"),p=i("HAHl"),m=i("Kiwt"),f=i("fXoL"),C=i("FpxV");function M(n,t){if(1&n){const n=f.Ob();f.Nb(0,"ion-row",11),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(2).getLetterClicked(i)}),f.Nb(1,"ion-col",12),f.Nb(2,"ion-label",13),f.xc(3),f.Mb(),f.Mb(),f.Mb()}if(2&n){const n=t.$implicit;f.xb(3),f.zc(" ",n," ")}}function N(n,t){if(1&n&&(f.Lb(0),f.vc(1,M,4,1,"ion-row",10),f.Kb()),2&n){const n=f.Zb();f.xb(1),f.gc("ngForOf",n.letters)}}function x(n,t){1&n&&(f.Nb(0,"ion-item",14),f.Nb(1,"ion-label",15),f.Jb(2,"ion-spinner"),f.Mb(),f.Mb())}function y(n,t){if(1&n&&(f.Nb(0,"ion-col",30),f.Jb(1,"ion-icon",31),f.Mb()),2&n){const n=f.Zb().$implicit,t=f.Zb(3);f.xb(1),f.hc("name",t.getFavIcon(n))}}function I(n,t){if(1&n){const n=f.Ob();f.Nb(0,"ion-item-sliding"),f.Nb(1,"ion-item",18),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).viewContact(i)}),f.Nb(2,"ion-grid",19),f.Nb(3,"ion-row",20),f.Nb(4,"ion-col",21),f.Nb(5,"ion-label",22),f.xc(6),f.Mb(),f.Nb(7,"ion-note",23),f.xc(8),f.Mb(),f.Mb(),f.vc(9,y,2,1,"ion-col",24),f.Mb(),f.Mb(),f.Mb(),f.Nb(10,"ion-item-options",25),f.Nb(11,"ion-item-option",26),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).edit(i)}),f.Jb(12,"ion-icon",27),f.Mb(),f.Nb(13,"ion-item-option",28),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).delete(i)}),f.Jb(14,"ion-icon",29),f.Mb(),f.Mb(),f.Mb()}if(2&n){const n=t.$implicit,i=f.Zb(3);f.xb(6),f.zc(" ",null==n?null:n.Name," "),f.xb(2),f.yc(null==n?null:n.CompanyName),f.xb(1),f.gc("ngIf","my"==i.countryCode)}}function w(n,t){if(1&n&&(f.Nb(0,"ion-list"),f.Nb(1,"ion-item-group"),f.Nb(2,"ion-item-divider",16),f.Nb(3,"ion-label"),f.Nb(4,"b"),f.xc(5),f.ac(6,"translate"),f.Mb(),f.Mb(),f.Mb(),f.vc(7,I,15,3,"ion-item-sliding",17),f.Mb(),f.Mb()),2&n){const n=f.Zb(2);f.xb(5),f.yc(f.bc(6,2,"ContactsTab_RecentlyAdded")),f.xb(2),f.gc("ngForOf",n.recentContacts)}}function v(n,t){if(1&n&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",12),f.vc(2,w,8,4,"ion-list",6),f.Mb(),f.Mb()),2&n){const n=f.Zb();f.xb(2),f.gc("ngIf",(null==n.recentContacts?null:n.recentContacts.length)>0)}}function O(n,t){if(1&n&&(f.Nb(0,"ion-col",30),f.Jb(1,"ion-icon",31),f.Mb()),2&n){const n=f.Zb().$implicit,t=f.Zb(3);f.xb(1),f.hc("name",t.getFavIcon(n))}}function k(n,t){if(1&n){const n=f.Ob();f.Nb(0,"ion-item-sliding"),f.Nb(1,"ion-item",18),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).viewContact(i)}),f.Nb(2,"ion-grid",19),f.Nb(3,"ion-row"),f.Nb(4,"ion-col",34),f.Nb(5,"ion-label",22),f.xc(6),f.Mb(),f.Nb(7,"ion-note",23),f.xc(8),f.Mb(),f.Mb(),f.vc(9,O,2,1,"ion-col",24),f.Mb(),f.Mb(),f.Mb(),f.Nb(10,"ion-item-options",25),f.Nb(11,"ion-item-option",26),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).edit(i)}),f.Jb(12,"ion-icon",27),f.Mb(),f.Nb(13,"ion-item-option",28),f.Vb("click",function(){f.qc(n);const i=t.$implicit;return f.Zb(3).delete(i)}),f.Jb(14,"ion-icon",29),f.Mb(),f.Mb(),f.Mb()}if(2&n){const n=t.$implicit,i=f.Zb(3);f.xb(6),f.zc(" ",null==n?null:n.Name," "),f.xb(2),f.yc(null==n?null:n.CompanyName),f.xb(1),f.gc("ngIf","my"==i.countryCode)}}function F(n,t){if(1&n&&(f.Nb(0,"ion-item-group",33),f.Nb(1,"ion-item-divider",16),f.Nb(2,"ion-label"),f.Nb(3,"b"),f.xc(4),f.Mb(),f.Mb(),f.Mb(),f.vc(5,k,15,3,"ion-item-sliding",17),f.Mb()),2&n){const n=t.$implicit;f.hc("id",null==n?null:n.header),f.xb(4),f.yc(null==n?null:n.header),f.xb(1),f.gc("ngForOf",null==n?null:n.contacts)}}function z(n,t){if(1&n&&(f.Nb(0,"ion-row"),f.Nb(1,"ion-col",12),f.Nb(2,"ion-list"),f.vc(3,F,6,3,"ion-item-group",32),f.Mb(),f.Mb(),f.Mb()),2&n){const n=f.Zb();f.xb(3),f.gc("ngForOf",n.contacts)}}const Z=[{path:"",component:(()=>{class n{constructor(n,t,i,o,e){this.contact=n,this.navCtrl=t,this.router=i,this.loadingCtrl=o,this.translate=e,this.letters=this.contact.getLetterScroll(),this.contacts=[],this.isLoadingRecent=!1,this.countryCode=d.a.countryCode,this.offset=0,this.sub=new r.a}ngOnInit(){this.getRecentContacts(),this.sub.add(this.contact.subRecentContacts().subscribe(n=>{this.recentContacts=n}))}ngOnDestroy(){this.sub.unsubscribe()}getRecentContacts(){this.isLoadingRecent=!0;const n=[];(!this.recentContacts||this.recentContacts.length<=0)&&n.push(this.contact.getRecentContacts()),"my"===d.a.countryCode&&n.push(this.getContacts()),n.length>0&&Object(a.a)(n).subscribe(n=>{this.isLoadingRecent=!1},n=>{this.isLoadingRecent=!1})}getContacts(){return"my"===this.countryCode?(this.contacts=[],this.translate.get("Common_Loading").pipe(Object(u.b)(n=>Object(l.a)(this.loadingCtrl.create({message:n}))),Object(u.b)(n=>(n.present(),this.contact.getCategorizedContact().pipe(Object(h.a)(t=>{this.contacts=t,n.dismiss()},t=>{n.dismiss()})))))):Object(g.a)(new Array)}getFavIcon(n){return n.Flag?"heart":"heart-outline"}loadData(n){this.searchInput=this.searchInput&&this.searchInput.trim()?this.searchInput:null,this.contact.getCategorizedContact(this.searchInput).subscribe(t=>{const i=this.contacts.length;this.contacts=t,i!=t.length?n.target.complete():n.target.disabled=!0})}edit(n){}delete(n){}search(){this.searchInput&&this.searchInput.trim()?this.contact.getCategorizedContact(this.searchInput).subscribe(n=>{this.contacts=n}):this.getRecentContacts()}viewContact(n){this.navCtrl.navigateForward(p.a.BASE+"/"+n.Id)}getLetterClicked(n){const t=document.getElementById(n);console.log(n),document.getElementById(n)&&this.myContent.scrollToPoint(0,t.offsetTop-40,1e3)}add(){this.router.navigate([`${m.a.BASE}/${m.a.OPPID}`])}showContactList(){return this.searchInput||"my"===d.a.countryCode}}return n.\u0275fac=function(t){return new(t||n)(f.Ib(C.a),f.Ib(c.ob),f.Ib(s.g),f.Ib(c.mb),f.Ib(b.d))},n.\u0275cmp=f.Cb({type:n,selectors:[["app-contact-list"]],viewQuery:function(n,t){if(1&n&&(f.Bc(c.q,!0,c.q),f.Bc(c.y,!0)),2&n){let n;f.oc(n=f.Wb())&&(t.myContent=n.first),f.oc(n=f.Wb())&&(t.infiniteScroll=n.first)}},decls:20,vars:14,consts:[[1,"ion-no-border"],["color","primary","mode","ios"],["slot","end"],[3,"click"],["slot","icon-only","name","add"],["search-icon","","debounce","500",1,"ion-margin-top",3,"ngModel","placeholder","ngModelChange","ionChange","ionCancel","ionClear"],[4,"ngIf"],["class","ion-text-center","lines","none",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles",3,"loadingText"],["class","letter-scroll",3,"click",4,"ngFor","ngForOf"],[1,"letter-scroll",3,"click"],["size","12"],["color","primary",1,"mat-small"],["lines","none",1,"ion-text-center"],[1,"ion-text-center"],["color","primary-50"],[4,"ngFor","ngForOf"],["tappable","",3,"click"],[1,"ion-no-padding","ion-no-margin"],[1,"row"],["size","10",1,"ion-align-self-center"],["color","primary",1,"name"],[1,"note"],["size","2","class","ion-align-self-center",4,"ngIf"],["side","end"],["color","tertiary",3,"click"],["slot","icon-only","name","create"],["color","danger",3,"click"],["slot","icon-only","name","trash"],["size","2",1,"ion-align-self-center"],["color","primary",1,"big-icon",3,"name"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["size","10",1,"ion-align-self-center","ion-text-wrap"]],template:function(n,t){1&n&&(f.Nb(0,"ion-header",0),f.Nb(1,"ion-toolbar",1),f.Nb(2,"ion-buttons",2),f.Nb(3,"ion-button",3),f.Vb("click",function(){return t.add()}),f.Jb(4,"ion-icon",4),f.Mb(),f.Mb(),f.Nb(5,"ion-title"),f.xc(6),f.ac(7,"translate"),f.Mb(),f.Mb(),f.Nb(8,"ion-toolbar"),f.Nb(9,"ion-searchbar",5),f.Vb("ngModelChange",function(n){return t.searchInput=n})("ionChange",function(){return t.search()})("ionCancel",function(){return t.getRecentContacts()})("ionClear",function(){return t.getRecentContacts()}),f.ac(10,"translate"),f.Mb(),f.Mb(),f.Mb(),f.Nb(11,"ion-content"),f.Nb(12,"ion-grid"),f.vc(13,N,2,1,"ng-container",6),f.vc(14,x,3,0,"ion-item",7),f.vc(15,v,3,1,"ion-row",6),f.vc(16,z,4,1,"ion-row",6),f.Mb(),f.Nb(17,"ion-infinite-scroll",8),f.Vb("ionInfinite",function(n){return t.loadData(n)}),f.Jb(18,"ion-infinite-scroll-content",9),f.ac(19,"translate"),f.Mb(),f.Mb()),2&n&&(f.xb(6),f.zc(" ",f.bc(7,8,"ContactsTab_Contacts")," "),f.xb(3),f.hc("placeholder",f.bc(10,10,"ContactsTab_Search")),f.gc("ngModel",t.searchInput),f.xb(4),f.gc("ngIf","my"==t.countryCode),f.xb(1),f.gc("ngIf",t.isLoadingRecent),f.xb(1),f.gc("ngIf",!t.searchInput&&t.recentContacts),f.xb(1),f.gc("ngIf",t.showContactList()),f.xb(2),f.hc("loadingText",f.bc(19,12,"ContactsTab_LoadingMoreContacts")))},directives:[c.w,c.ib,c.i,c.h,c.x,c.hb,c.U,c.tb,e.h,e.j,c.q,c.v,o.m,c.y,c.z,o.l,c.T,c.p,c.H,c.B,c.bb,c.I,c.D,c.C,c.G,c.M,c.F,c.E],pipes:[b.c],styles:[".letter-scroll[_ngcontent-%COMP%]{margin-top:10px;position:fixed;z-index:1000;right:2px}.letter-scroll[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block;line-height:15px}.bold[_ngcontent-%COMP%]{font-weight:bolder}.row[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.name[_ngcontent-%COMP%]{font-size:15px}.note[_ngcontent-%COMP%]{font-size:10px}.big-icon[_ngcontent-%COMP%]{font-size:25px}"]}),n})()}];let L=(()=>{class n{}return n.\u0275mod=f.Gb({type:n}),n.\u0275inj=f.Fb({factory:function(t){return new(t||n)},imports:[[s.i.forChild(Z)],s.i]}),n})(),R=(()=>{class n{}return n.\u0275mod=f.Gb({type:n}),n.\u0275inj=f.Fb({factory:function(t){return new(t||n)},imports:[[o.c,e.e,b.b,c.kb,L]]}),n})()}}]);
//# sourceMappingURL=2.de373d612dedd4d956f9.js.map