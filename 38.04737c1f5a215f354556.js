(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"6lLE":function(t,o,e){"use strict";e.r(o),e.d(o,"UpdateProfilePageModule",function(){return S});var c=e("ofXK"),n=e("3Pt+"),a=e("TEn/"),r=e("tyNb"),s=e("quSY"),i=e("Cfvw"),l=e("LRne"),b=e("5+tZ"),m=e("vkgz"),p=e("v6Tj"),u=e("AytR"),h=e("+q+r"),d=e("j1fY"),g=e("fXoL"),f=e("FpxV"),N=e("sYmb"),M=e("nC5Y"),F=e("gE7l");function y(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.yc(t.label)}}function C(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.yc(t.label)}}function v(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.yc(t.label)}}function x(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.yc(t.label)}}function O(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.zc("",t.label," ")}}function I(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.zc(" ",t.label," ")}}function w(t,o){if(1&t&&(g.Nb(0,"ion-col"),g.Nb(1,"ion-item",6),g.Nb(2,"ion-select",32),g.ac(3,"translate"),g.vc(4,I,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(5,"app-item-err",9),g.Mb()),2&t){const t=g.Zb();g.xb(2),g.hc("placeholder",g.bc(3,4,"UpdateOwnerTradeIn_City")),g.xb(2),g.gc("ngForOf",t.cityList),g.xb(1),g.gc("control",null==t.contactForm.controls?null:t.contactForm.controls.city)("messages",t.formErrorMessages.city)}}function T(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.zc(" ",t.label," ")}}function J(t,o){if(1&t&&(g.Nb(0,"ion-item",6),g.Nb(1,"ion-select",33),g.ac(2,"translate"),g.vc(3,T,2,2,"ion-select-option",8),g.Mb(),g.Mb()),2&t){const t=g.Zb();g.xb(1),g.hc("placeholder",g.bc(2,2,"UpdateOwnerTradeIn_State")),g.xb(2),g.gc("ngForOf",t.stateList)}}function E(t,o){if(1&t&&(g.Nb(0,"ion-select-option",31),g.xc(1),g.Mb()),2&t){const t=o.$implicit;g.gc("value",t.value),g.xb(1),g.zc(" ",t.label," ")}}const L=[{path:`:${d.a.PARAM_ID}/:${d.a.OWNER}`,children:[{path:"",component:(()=>{class t{constructor(t,o,e,c,n,a,r,i){this.contactService=t,this.formBuilder=o,this.route=e,this.translate=c,this.router=n,this.loadingCtrl=a,this.navCtrl=r,this.oppSrvc=i,this.sysCountryCode=u.a.countryCode,this.subs=new s.a,this.salutationList=this.contactService.getContactSalutation(),this.countryCode=this.contactService.getCountryCodeList(),this.countryList=this.contactService.getCountryList(),this.genderList=this.contactService.getGender(),this.raceList=this.contactService.getRace(),this.cityList=this.contactService.getCities(),this.stateList=this.contactService.getStates(),this.docList=this.contactService.getContactDocType(),console.log(this.docList)}ngOnInit(){this.contactForm=this.initContactForm(),this.subs.add(this.parseURL())}parseURL(){return this.contact=new p.a,this.route.paramMap.subscribe(t=>{console.log(t);const o=t.get(d.a.PARAM_ID),e=t.get(d.a.OWNER);this.getData(o,e)})}getData(t,o){this.translate.get("Common_Loading").pipe(Object(b.b)(t=>Object(i.a)(this.loadingCtrl.create({message:t}))),Object(b.b)(e=>(e.present(),this.oppSrvc.getOpportunityById(t).pipe(Object(b.b)(t=>(this.opp=t,"true"===o?this.contactService.getContactById(t.ContactId).pipe(Object(m.a)(t=>{e.dismiss(),this.contact=t,this.setValues()},t=>{e.dismiss()})):"false"===o?(e.dismiss(),Object(l.a)(p.a)):this.contactService.getContactById(o).pipe(Object(m.a)(t=>{e.dismiss(),this.contact=t,this.setValues()},t=>{e.dismiss()})))))))).subscribe()}setValues(){this.contactForm.get("title").setValue(this.contact.Title),this.contactForm.get("fullName").setValue(this.contact.Name),this.contactForm.get("prefName").setValue(this.contact.PrefName),this.contactForm.get("company").setValue(this.contact.CompanyName),this.contactForm.get("docType").setValue(this.contact.DocType),this.contactForm.get("docNum").setValue(this.contact.DocNum),this.contactForm.get("race").setValue(this.contact.Race),this.contactForm.get("gender").setValue(this.contact.Gender),this.contactForm.get("mobile").setValue(this.contact.MobileNo),this.contactForm.get("countryCode").setValue(this.contact.CountryCode),this.contactForm.get("email").setValue(this.contact.Email),this.contactForm.get("birthday").setValue(this.contact.Birthday),this.contactForm.get("line1").setValue(this.contact.Line1),this.contactForm.get("line2").setValue(this.contact.Line2),this.contactForm.get("postcode").setValue(this.contact.Postcode),this.contactForm.get("city").setValue(this.contact.City),this.contactForm.get("state").setValue(this.contact.State),this.contactForm.get("country").setValue(this.contact.Country),this.contactForm.get("remarks").setValue(this.contact.Remarks)}initContactForm(){const t=this.formBuilder.group({id:[""],title:[""],fullName:[""],prefName:[""],company:[""],docType:[""],docNum:[""],race:[""],gender:[""],countryCode:[""],mobile:[""],email:["",[n.l.email]],birthday:[""],line1:[""],line2:[""],postcode:[""],city:[""],state:[""],country:[""],remarks:[""]});return this.initErrorMessages(t),t}initErrorMessages(t){if(this.formErrorMessages={group:{}},t)for(const o of Object.keys(t.controls))switch(o){case"email":this.formErrorMessages[o]={email:"Invalid email."}}}next(){this.contact.Title=this.contactForm.get("title").value,this.contact.Name=this.contactForm.get("fullName").value,this.contact.PrefName=this.contactForm.get("prefName").value,this.contact.CompanyName=this.contactForm.get("company").value,this.contact.DocType=this.contactForm.get("docType").value,this.contact.DocNum=this.contactForm.get("docNum").value,this.contact.Race=this.contactForm.get("race").value,this.contact.Gender=this.contactForm.get("gender").value,this.contact.MobileNo=this.contactForm.get("mobile").value,this.contact.CountryCode=this.contactForm.get("countryCode").value,this.contact.Email=this.contactForm.get("email").value,this.contact.Birthday=this.contactForm.get("birthday").value,this.contact.Line1=this.contactForm.get("line1").value,this.contact.Line2=this.contactForm.get("line2").value,this.contact.Postcode=this.contactForm.get("postcode").value,this.contact.City=this.contactForm.get("city").value,this.contact.State=this.contactForm.get("state").value,this.contact.Country=this.contactForm.get("country").value,this.contact.Remarks=this.contactForm.get("remarks").value,this.translate.get("Common_Saving").pipe(Object(b.b)(t=>Object(i.a)(this.loadingCtrl.create({message:t}))),Object(b.b)(t=>(t.present(),this.contactService.upsertContact(this.contact).pipe(Object(m.a)(o=>{this.contact=o,t.dismiss()},o=>{t.dismiss()}))))).subscribe(t=>{this.navCtrl.back(),setTimeout(t=>{this.navCtrl.navigateForward(h.a.BASE+"/"+this.opp.Id+"/"+this.contact.Id)},1e3)})}}return t.\u0275fac=function(o){return new(o||t)(g.Ib(f.a),g.Ib(n.a),g.Ib(r.a),g.Ib(N.d),g.Ib(r.g),g.Ib(a.mb),g.Ib(a.ob),g.Ib(M.a))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-update-profile"]],decls:108,vars:105,consts:[["color","primary","mode","ios"],["slot","start"],["defaultHref","",3,"text"],["slot","end"],[3,"click"],[3,"formGroup"],["button",""],["formControlName","title",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"control","messages"],["formControlName","fullName",3,"placeholder"],["formControlName","prefName",3,"placeholder"],["formControlName","company",3,"placeholder"],[1,"ion-no-margin","ion-no-padding"],["formControlName","docType",3,"placeholder"],["formControlName","docNum",3,"placeholder"],["formControlName","race",3,"placeholder"],["formControlName","gender",3,"placeholder"],["displayFormat","MM/DD/YYYY","formControlName","birthday",3,"placeholder"],[1,"ion-margin-top"],["size","4"],["formControlName","countryCode",3,"placeholder"],["formControlName","mobile",3,"placeholder"],["formControlName","email",3,"placeholder"],["formControlName","line1",3,"placeholder"],["formControlName","line2",3,"placeholder"],["formControlName","postcode",3,"placeholder"],[4,"ngIf"],["button","",4,"ngIf"],["formControlName","country","readonly","",3,"placeholder"],["rows","6","formControlName","remarks",3,"placeholder"],[3,"value"],["formControlName","city",3,"placeholder"],["formControlName","state","readonly","",3,"placeholder"]],template:function(t,o){1&t&&(g.Nb(0,"ion-header"),g.Nb(1,"ion-toolbar",0),g.Nb(2,"ion-buttons",1),g.Jb(3,"ion-back-button",2),g.ac(4,"translate"),g.Mb(),g.Nb(5,"ion-buttons",3),g.Nb(6,"ion-button",4),g.Vb("click",function(){return o.next()}),g.xc(7),g.ac(8,"translate"),g.Mb(),g.Mb(),g.Nb(9,"ion-title"),g.xc(10),g.ac(11,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Nb(12,"ion-content"),g.Nb(13,"form",5),g.Nb(14,"div"),g.Nb(15,"ion-item",6),g.Nb(16,"ion-select",7),g.ac(17,"translate"),g.vc(18,y,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(19,"app-item-err",9),g.Nb(20,"ion-item"),g.Jb(21,"ion-input",10),g.ac(22,"translate"),g.Mb(),g.Jb(23,"app-item-err",9),g.Nb(24,"ion-item"),g.Jb(25,"ion-input",11),g.ac(26,"translate"),g.Mb(),g.Jb(27,"app-item-err",9),g.Nb(28,"ion-item"),g.Jb(29,"ion-input",12),g.ac(30,"translate"),g.Mb(),g.Jb(31,"app-item-err",9),g.Nb(32,"ion-grid",13),g.Nb(33,"ion-row"),g.Nb(34,"ion-col"),g.Nb(35,"ion-item",6),g.Nb(36,"ion-select",14),g.ac(37,"translate"),g.vc(38,C,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(39,"app-item-err",9),g.Mb(),g.Nb(40,"ion-col"),g.Nb(41,"ion-item"),g.Jb(42,"ion-input",15),g.ac(43,"translate"),g.Mb(),g.Jb(44,"app-item-err",9),g.Mb(),g.Mb(),g.Nb(45,"ion-row"),g.Nb(46,"ion-col"),g.Nb(47,"ion-item",6),g.Nb(48,"ion-select",16),g.ac(49,"translate"),g.vc(50,v,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(51,"app-item-err",9),g.Mb(),g.Nb(52,"ion-col"),g.Nb(53,"ion-item",6),g.Nb(54,"ion-select",17),g.ac(55,"translate"),g.vc(56,x,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(57,"app-item-err",9),g.Mb(),g.Mb(),g.Mb(),g.Nb(58,"ion-item"),g.Jb(59,"ion-datetime",18),g.ac(60,"translate"),g.Mb(),g.Jb(61,"app-item-err",9),g.Mb(),g.Nb(62,"div",19),g.Nb(63,"ion-grid",13),g.Nb(64,"ion-row"),g.Nb(65,"ion-col",20),g.Nb(66,"ion-item",6),g.Nb(67,"ion-select",21),g.ac(68,"translate"),g.vc(69,O,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(70,"app-item-err",9),g.Mb(),g.Nb(71,"ion-col"),g.Nb(72,"ion-item"),g.Jb(73,"ion-input",22),g.ac(74,"translate"),g.Mb(),g.Jb(75,"app-item-err",9),g.Mb(),g.Mb(),g.Mb(),g.Nb(76,"ion-item"),g.Jb(77,"ion-input",23),g.ac(78,"translate"),g.Mb(),g.Jb(79,"app-item-err",9),g.Nb(80,"ion-item"),g.Jb(81,"ion-input",24),g.ac(82,"translate"),g.Mb(),g.Jb(83,"app-item-err",9),g.Nb(84,"ion-item"),g.Jb(85,"ion-input",25),g.ac(86,"translate"),g.Mb(),g.Jb(87,"app-item-err",9),g.Nb(88,"ion-grid",13),g.Nb(89,"ion-row"),g.Nb(90,"ion-col"),g.Nb(91,"ion-item"),g.Jb(92,"ion-input",26),g.ac(93,"translate"),g.Mb(),g.Jb(94,"app-item-err",9),g.Mb(),g.vc(95,w,6,6,"ion-col",27),g.Mb(),g.Mb(),g.vc(96,J,4,4,"ion-item",28),g.Jb(97,"app-item-err",9),g.Nb(98,"ion-item",6),g.Nb(99,"ion-select",29),g.ac(100,"translate"),g.vc(101,E,2,2,"ion-select-option",8),g.Mb(),g.Mb(),g.Jb(102,"app-item-err",9),g.Mb(),g.Nb(103,"div",19),g.Nb(104,"ion-item"),g.Jb(105,"ion-textarea",30),g.ac(106,"translate"),g.Mb(),g.Jb(107,"app-item-err",9),g.Mb(),g.Mb(),g.Mb()),2&t&&(g.xb(3),g.hc("text",g.bc(4,65,"Common_Back")),g.xb(4),g.yc(g.bc(8,67,"Common_Next")),g.xb(3),g.yc(g.bc(11,69,"UpdateOwnerTradeIn_OwnerDetails")),g.xb(3),g.gc("formGroup",o.contactForm),g.xb(3),g.hc("placeholder",g.bc(17,71,"UpdateOwnerTradeIn_Salutation")),g.xb(2),g.gc("ngForOf",o.salutationList),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.title)("messages",o.formErrorMessages.title),g.xb(2),g.hc("placeholder",g.bc(22,73,"UpdateOwnerTradeIn_FullName")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.fullName)("messages",o.formErrorMessages.fullName),g.xb(2),g.hc("placeholder",g.bc(26,75,"UpdateOwnerTradeIn_PreferredName")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.prefName)("messages",o.formErrorMessages.prefName),g.xb(2),g.hc("placeholder",g.bc(30,77,"UpdateOwnerTradeIn_Company")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.company)("messages",o.formErrorMessages.company),g.xb(5),g.hc("placeholder",g.bc(37,79,"UpdateOwnerTradeIn_ID")),g.xb(2),g.gc("ngForOf",o.docList),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.docType)("messages",o.formErrorMessages.docType),g.xb(3),g.hc("placeholder",g.bc(43,81,"UpdateOwnerTradeIn_IDNumber")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.docNum)("messages",o.formErrorMessages.docNum),g.xb(4),g.hc("placeholder",g.bc(49,83,"UpdateOwnerTradeIn_Race")),g.xb(2),g.gc("ngForOf",o.raceList),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.race)("messages",o.formErrorMessages.race),g.xb(3),g.hc("placeholder",g.bc(55,85,"UpdateOwnerTradeIn_Gender")),g.xb(2),g.gc("ngForOf",o.genderList),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.gender)("messages",o.formErrorMessages.gender),g.xb(2),g.hc("placeholder",g.bc(60,87,"UpdateOwnerTradeIn_Birthday")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.birthday)("messages",o.formErrorMessages.birthday),g.xb(6),g.hc("placeholder",g.bc(68,89,"UpdateOwnerTradeIn_CountryCode")),g.xb(2),g.gc("ngForOf",o.countryCode),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.countryCode)("messages",o.formErrorMessages.countryCode),g.xb(3),g.hc("placeholder",g.bc(74,91,"UpdateOwnerTradeIn_MobileNumber")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.mobile)("messages",o.formErrorMessages.mobile),g.xb(2),g.hc("placeholder",g.bc(78,93,"UpdateOwnerTradeIn_Email")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.email)("messages",o.formErrorMessages.email),g.xb(2),g.hc("placeholder",g.bc(82,95,"UpdateOwnerTradeIn_Line1")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.line1)("messages",o.formErrorMessages.line1),g.xb(2),g.hc("placeholder",g.bc(86,97,"UpdateOwnerTradeIn_Line2")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.line2)("messages",o.formErrorMessages.line2),g.xb(5),g.hc("placeholder",g.bc(93,99,"UpdateOwnerTradeIn_Postcode")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.postcode)("messages",o.formErrorMessages.postcode),g.xb(1),g.gc("ngIf","my"==o.sysCountryCode),g.xb(1),g.gc("ngIf","my"==o.sysCountryCode),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.state)("messages",o.formErrorMessages.state),g.xb(2),g.hc("placeholder",g.bc(100,101,"UpdateOwnerTradeIn_Country")),g.xb(2),g.gc("ngForOf",o.countryList),g.xb(1),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.country)("messages",o.formErrorMessages.country),g.xb(3),g.hc("placeholder",g.bc(106,103,"UpdateOwnerTradeIn_Notes")),g.xb(2),g.gc("control",null==o.contactForm.controls?null:o.contactForm.controls.remarks)("messages",o.formErrorMessages.remarks))},directives:[a.w,a.ib,a.i,a.f,a.g,a.h,a.hb,a.q,n.m,n.i,n.d,a.B,a.X,a.sb,n.h,n.c,c.l,F.a,a.A,a.tb,a.v,a.T,a.p,a.r,c.m,a.gb,a.Y],pipes:[N.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-content-color)}form[_ngcontent-%COMP%]{background:#fff}ion-select[_ngcontent-%COMP%]{width:100%}"]}),t})(),pathMatch:"full"}]}];let _=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(o){return new(o||t)},imports:[[r.i.forChild(L)],r.i]}),t})();var V=e("CJCG");let S=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(o){return new(o||t)},imports:[[c.c,n.e,a.kb,n.k,N.b,V.a,_]]}),t})()}}]);
//# sourceMappingURL=38.04737c1f5a215f354556.js.map