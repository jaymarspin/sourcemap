(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{hyHv:function(e,o,t){"use strict";t.r(o),t.d(o,"EditOfferPageModule",function(){return v});var r=t("ofXK"),n=t("3Pt+"),s=t("TEn/"),i=t("tyNb"),l=t("quSY"),c=t("Cfvw"),a=t("fXoL"),b=t("sYmb");function f(e,o){if(1&e){const e=a.Ob();a.Nb(0,"ion-item",2),a.Vb("click",function(){a.qc(e);const t=o.$implicit;return a.Zb().toggle(t)}),a.Nb(1,"ion-label"),a.Nb(2,"h5",10),a.xc(3),a.Mb(),a.Mb(),a.Jb(4,"ion-checkbox",11),a.Mb()}if(2&e){const e=o.$implicit,t=a.Zb();a.xb(3),a.yc(null==e?null:e.label),a.xb(1),a.gc("checked",t.isSelected(e))}}function m(e,o){if(1&e){const e=a.Ob();a.Nb(0,"ion-footer",5),a.Nb(1,"ion-button",12),a.Vb("click",function(){return a.qc(e),a.Zb().save()}),a.xc(2),a.ac(3,"translate"),a.Mb(),a.Mb()}2&e&&(a.xb(2),a.zc(" ",a.bc(3,1,"Common_Save")," "))}let p=(()=>{class e{constructor(e){this.modalController=e,this.options=new a.o,this.selectedOptions=new Array}ngOnInit(){this.selectorsArr=this.selectors,this.getPreviousSelected()}getPreviousSelected(){this.selected.length>0&&this.selected.forEach(e=>this.toggle(e))}isSelected(e){return this.check(e)}toggle(e){this.check(e)?this.delete(e):this.allowMultiple?this.selectedOptions.push(e):(this.selectedOptions=new Array,this.selectedOptions.push(e),this.save())}check(e){return this.selectedOptions.some(o=>o.value===e.value)}delete(e){this.selectedOptions=this.selectedOptions.filter(o=>o.value!==e.value)}cancel(){this.modalController.dismiss()}save(){this.options.emit(this.selectedOptions),this.modalController.dismiss({selection:this.selectedOptions})}searchSelectors(e){if(!e||!e.target)return;const o=e.target;if(!o.value)return;const t=o.value;this.selectorsArr=this.selectors,t&&""!==t.trim()&&(this.selectorsArr=this.selectors.filter(e=>e.label.toLocaleLowerCase().indexOf(t.toLowerCase())>-1))}}return e.\u0275fac=function(o){return new(o||e)(a.Ib(s.nb))},e.\u0275cmp=a.Cb({type:e,selectors:[["app-selector"]],inputs:{selectors:"selectors",allowMultiple:"allowMultiple",header:"header",selected:"selected"},outputs:{options:"options"},decls:14,vars:5,consts:[[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["debounce","500","placeholder","Search","inputmode","search",3,"ionChange"],[1,"ion-padding"],["color","primary"],[3,"items"],[3,"click",4,"virtualItem"],["class","ion-padding",4,"ngIf"],[1,"no-margin-bottom"],["slot","start",3,"checked"],["fill","solid","expand","block","color","primary",3,"click"]],template:function(e,o){1&e&&(a.Nb(0,"ion-header",0),a.Nb(1,"ion-toolbar"),a.Nb(2,"ion-buttons",1),a.Nb(3,"ion-button",2),a.Vb("click",function(){return o.cancel()}),a.Jb(4,"ion-icon",3),a.Mb(),a.Mb(),a.Nb(5,"ion-searchbar",4),a.Vb("ionChange",function(e){return o.searchSelectors(e)}),a.Mb(),a.Mb(),a.Mb(),a.Nb(6,"ion-content",5),a.Nb(7,"ion-label",6),a.Nb(8,"b"),a.xc(9),a.ac(10,"uppercase"),a.Mb(),a.Mb(),a.Nb(11,"ion-virtual-scroll",7),a.vc(12,f,5,2,"ion-item",8),a.Mb(),a.Mb(),a.vc(13,m,4,3,"ion-footer",9)),2&e&&(a.xb(9),a.yc(a.bc(10,3,o.header)),a.xb(2),a.gc("items",o.selectorsArr),a.xb(2),a.gc("ngIf",o.allowMultiple))},directives:[s.w,s.ib,s.i,s.h,s.x,s.U,s.tb,s.q,s.H,s.jb,s.vb,r.m,s.B,s.o,s.c,s.u],pipes:[r.t,b.c],styles:["ion-searchbar[_ngcontent-%COMP%]{padding-top:10px!important}ion-label[_ngcontent-%COMP%]{font-size:13px!important}.no-margin-bottom[_ngcontent-%COMP%]{margin-bottom:0}.note[_ngcontent-%COMP%]{color:var(--ion-color-medium)}"]}),e})();var u=t("9Ex/"),g=t("AytR"),h=t("YgLt"),d=t("7/N5"),M=t("gE7l");function x(e,o){if(1&e&&(a.Nb(0,"ion-select-option",27),a.xc(1),a.Mb()),2&e){const e=o.$implicit;a.gc("value",e.value),a.xb(1),a.zc(" ",e.label," ")}}function N(e,o){if(1&e&&(a.Nb(0,"ion-select-option",27),a.xc(1),a.Mb()),2&e){const e=o.$implicit;a.gc("value",e.value),a.xb(1),a.zc(" ",e.label," ")}}function O(e,o){if(1&e&&(a.Nb(0,"ion-select-option",27),a.xc(1),a.Mb()),2&e){const e=o.$implicit;a.gc("value",e.value),a.xb(1),a.zc(" ",e.label," ")}}const F=[{path:":"+h.a.PARAM_ID,children:[{path:"",component:(()=>{class e{constructor(e,o,t,r,n,s){this.route=e,this.translate=o,this.offerSrvc=t,this.formBuilder=r,this.modalController=n,this.router=s,this.subs=new l.a,this.countryCode=g.a.countryCode}ngOnInit(){this.offerForm=this.initOfferForm(),this.subs.add(this.parseURL())}parseURL(){return this.offer=new u.a,this.route.paramMap.subscribe(e=>{this.offer.Id=e.get(h.a.PARAM_ID),this.offer.Id===h.a.PARAM_ID?this.translate.get("EditOfferPage_NewOffer").subscribe(e=>{this.pageTitle=e}):this.translate.get("EditOfferPage_EditOffer").subscribe(e=>{this.pageTitle=e,this.getOfferInfo(this.offer.Id)}),this.router.getCurrentNavigation().extras.state&&(this.states=this.router.getCurrentNavigation().extras.state,this.offer.OpportunityId=this.states[h.a.STATE_OPPID],console.log(this.offer.OpportunityId))})}initOfferForm(){const e=this.formBuilder.group({id:[""],subtotal:[{value:"",disabled:!0}],total:[{value:"",disabled:!0}],variantName:["",[n.l.required]],yearMake:["",[n.l.required]],sellingPrice:["",[n.l.required]],exciseDuty:[""],fleetDiscountPctg:[""],fleetDiscount:[""],discount:[""],salesCampaign:[""],lifestyle:[""],regType:["",[n.l.required]],regFee:[""],hpOwnership:[""],hpOwnershipFee:[""],roadTax:[""],insurance:[""],bookingFee:[""]});return this.initErrorMessages(e),e}initErrorMessages(e){this.translate.get("Error_CannotBeEmpty").subscribe(o=>{if(this.formErrorMessages={group:{}},e)for(const t of Object.keys(e.controls))switch(t){case"variantName":case"yearMake":case"sellingPrice":case"regType":this.formErrorMessages[t]={required:o}}})}selectVariantName(){this.translate.get("EditOfferPage_SelectVariant").subscribe(e=>{Object(c.a)(this.modalController.create({component:p,componentProps:{selectors:[],selected:[],allowMultiple:!1,header:e},backdropDismiss:!1,showBackdrop:!0})).subscribe(e=>{Object(c.a)(e.onDidDismiss()).subscribe(e=>{}),e.present()})})}getOfferInfo(e){this.offerSrvc.getOfferById(e).subscribe(e=>{this.offer=e,console.log(e)})}done(){}}return e.\u0275fac=function(o){return new(o||e)(a.Ib(i.a),a.Ib(b.d),a.Ib(d.a),a.Ib(n.a),a.Ib(s.nb),a.Ib(i.g))},e.\u0275cmp=a.Cb({type:e,selectors:[["app-edit-offer"]],decls:93,vars:97,consts:[["color","primary","mode","ios"],["slot","start"],["defaultHref","",3,"text"],["slot","end"],[3,"click"],[3,"formGroup"],["formControlName","variantName",3,"placeholder","click"],[3,"control","messages"],["displayFormat","YYYY","formControlName","yearMake",3,"placeholder"],["formControlName","sellingPrice",3,"placeholder"],["formControlName","exciseDuty",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","fleetDiscountPctg",3,"placeholder"],["formControlName","fleetDiscount",3,"placeholder"],["formControlName","discount",3,"placeholder"],["formControlName","salesCampaign",3,"placeholder"],["formControlName","lifestyle",3,"placeholder"],[1,"no-opacity"],["formControlName","subtotal"],["formControlName","regType",3,"placeholder"],["formControlName","regFee",3,"placeholder"],["formControlName","hpOwnership",3,"placeholder"],["formControlName","hpOwnershipFee",3,"placeholder"],["formControlName","roadTax",3,"placeholder"],["formControlName","insurance",3,"placeholder"],["formControlName","total"],["formControlName","bookingFee",3,"placeholder"],[3,"value"]],template:function(e,o){1&e&&(a.Nb(0,"ion-header"),a.Nb(1,"ion-toolbar",0),a.Nb(2,"ion-buttons",1),a.Jb(3,"ion-back-button",2),a.ac(4,"translate"),a.Mb(),a.Nb(5,"ion-buttons",3),a.Nb(6,"ion-button",4),a.Vb("click",function(){return o.done()}),a.xc(7),a.ac(8,"translate"),a.Mb(),a.Mb(),a.Nb(9,"ion-title"),a.xc(10),a.Mb(),a.Mb(),a.Mb(),a.Nb(11,"ion-content"),a.Lb(12,5),a.Nb(13,"div"),a.Nb(14,"ion-item"),a.Nb(15,"ion-input",6),a.Vb("click",function(){return o.selectVariantName()}),a.ac(16,"translate"),a.Mb(),a.Mb(),a.Jb(17,"app-item-err",7),a.Nb(18,"ion-item"),a.Jb(19,"ion-datetime",8),a.ac(20,"translate"),a.Mb(),a.Jb(21,"app-item-err",7),a.Nb(22,"ion-item"),a.Jb(23,"ion-input",9),a.ac(24,"translate"),a.Mb(),a.Jb(25,"app-item-err",7),a.Nb(26,"ion-item"),a.Nb(27,"ion-select",10),a.ac(28,"translate"),a.vc(29,x,2,2,"ion-select-option",11),a.Mb(),a.Mb(),a.Jb(30,"app-item-err",7),a.Nb(31,"ion-item"),a.Jb(32,"ion-input",12),a.ac(33,"translate"),a.Mb(),a.Jb(34,"app-item-err",7),a.Nb(35,"ion-item"),a.Jb(36,"ion-input",13),a.ac(37,"translate"),a.Mb(),a.Jb(38,"app-item-err",7),a.Nb(39,"ion-item"),a.Jb(40,"ion-input",14),a.ac(41,"translate"),a.Mb(),a.Jb(42,"app-item-err",7),a.Nb(43,"ion-item"),a.Jb(44,"ion-input",15),a.ac(45,"translate"),a.Mb(),a.Jb(46,"app-item-err",7),a.Nb(47,"ion-item"),a.Jb(48,"ion-input",16),a.ac(49,"translate"),a.Mb(),a.Jb(50,"app-item-err",7),a.Nb(51,"ion-item"),a.Nb(52,"ion-label",17),a.Nb(53,"b"),a.xc(54),a.ac(55,"translate"),a.Mb(),a.Mb(),a.Jb(56,"ion-input",18),a.Mb(),a.Nb(57,"ion-item"),a.Nb(58,"ion-select",19),a.ac(59,"translate"),a.vc(60,N,2,2,"ion-select-option",11),a.Mb(),a.Mb(),a.Jb(61,"app-item-err",7),a.Nb(62,"ion-item"),a.Jb(63,"ion-input",20),a.ac(64,"translate"),a.Mb(),a.Jb(65,"app-item-err",7),a.Nb(66,"ion-item"),a.Nb(67,"ion-select",21),a.ac(68,"translate"),a.vc(69,O,2,2,"ion-select-option",11),a.Mb(),a.Mb(),a.Jb(70,"app-item-err",7),a.Nb(71,"ion-item"),a.Jb(72,"ion-input",22),a.ac(73,"translate"),a.Mb(),a.Jb(74,"app-item-err",7),a.Nb(75,"ion-item"),a.Jb(76,"ion-input",23),a.ac(77,"translate"),a.Mb(),a.Jb(78,"app-item-err",7),a.Nb(79,"ion-item"),a.Jb(80,"ion-input",24),a.ac(81,"translate"),a.Mb(),a.Jb(82,"app-item-err",7),a.Nb(83,"ion-item"),a.Nb(84,"ion-label",17),a.Nb(85,"b"),a.xc(86),a.ac(87,"translate"),a.Mb(),a.Mb(),a.Jb(88,"ion-input",25),a.Mb(),a.Nb(89,"ion-item"),a.Jb(90,"ion-input",26),a.ac(91,"translate"),a.Mb(),a.Jb(92,"app-item-err",7),a.Mb(),a.Kb(),a.Mb()),2&e&&(a.xb(3),a.hc("text",a.bc(4,57,"Common_Back")),a.xb(4),a.yc(a.bc(8,59,"Common_Done")),a.xb(3),a.yc(o.pageTitle),a.xb(2),a.gc("formGroup",o.offerForm),a.xb(3),a.hc("placeholder",a.bc(16,61,"EditOfferPage_VariantName")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.variantName)("messages",o.formErrorMessages.variantName),a.xb(2),a.hc("placeholder",a.bc(20,63,"EditOfferPage_YearMake")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.yearMake)("messages",o.formErrorMessages.yearMake),a.xb(2),a.hc("placeholder",a.bc(24,65,"EditOfferPage_SellingPrice")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.sellingPrice)("messages",o.formErrorMessages.sellingPrice),a.xb(2),a.hc("placeholder",a.bc(28,67,"EditOfferPage_ExciseDuty")),a.xb(2),a.gc("ngForOf",o.exciseDuties),a.xb(1),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.exciseDuty)("messages",o.formErrorMessages.exciseDuty),a.xb(2),a.hc("placeholder",a.bc(33,69,"EditOfferPage_FleetDiscountPctg")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.fleetDiscountPctg)("messages",o.formErrorMessages.fleetDiscountPctg),a.xb(2),a.hc("placeholder",a.bc(37,71,"EditOfferPage_FleetDiscount")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.fleetDiscount)("messages",o.formErrorMessages.fleetDiscount),a.xb(2),a.hc("placeholder",a.bc(41,73,"EditOfferPage_Discount")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.discount)("messages",o.formErrorMessages.discount),a.xb(2),a.hc("placeholder",a.bc(45,75,"EditOfferPage_SalesCampaign")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.salesCampaign)("messages",o.formErrorMessages.salesCampaign),a.xb(2),a.hc("placeholder",a.bc(49,77,"EditOfferPage_Lifestyle")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.lifestyle)("messages",o.formErrorMessages.lifestyle),a.xb(4),a.yc(a.bc(55,79,"EditOfferPage_Subtotal")),a.xb(4),a.hc("placeholder",a.bc(59,81,"EditOfferPage_RegistrationType")),a.xb(2),a.gc("ngForOf",o.regTypes),a.xb(1),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.regType)("messages",o.formErrorMessages.regType),a.xb(2),a.hc("placeholder",a.bc(64,83,"EditOfferPage_RegistrationFee")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.regFee)("messages",o.formErrorMessages.regFee),a.xb(2),a.hc("placeholder",a.bc(68,85,"EditOfferPage_HPOwnership")),a.xb(2),a.gc("ngForOf",o.hpOwnerships),a.xb(1),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.hpOwnership)("messages",o.formErrorMessages.hpOwnership),a.xb(2),a.hc("placeholder",a.bc(73,87,"EditOfferPage_HPOwnershipFee")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.hpOwnershipFee)("messages",o.formErrorMessages.hpOwnershipFee),a.xb(2),a.hc("placeholder",a.bc(77,89,"EditOfferPage_RoadTax")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.roadTax)("messages",o.formErrorMessages.roadTax),a.xb(2),a.hc("placeholder",a.bc(81,91,"EditOfferPage_Insurance")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.insurance)("messages",o.formErrorMessages.insurance),a.xb(4),a.yc(a.bc(87,93,"EditOfferPage_TotalPrice")),a.xb(4),a.hc("placeholder",a.bc(91,95,"EditOfferPage_BookingFee")),a.xb(2),a.gc("control",null==o.offerForm.controls?null:o.offerForm.controls.bookingFee)("messages",o.formErrorMessages.bookingFee))},directives:[s.w,s.ib,s.i,s.f,s.g,s.h,s.hb,s.q,n.i,n.d,s.B,s.A,s.tb,n.h,n.c,M.a,s.r,s.sb,s.X,r.l,s.H,s.Y],pipes:[b.c],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-content-color)}div[_ngcontent-%COMP%]{background:#fff}ion-select[_ngcontent-%COMP%]{width:100%}.no-opacity[_ngcontent-%COMP%]{opacity:1!important}"]}),e})(),pathMatch:"full"}]}];let y=(()=>{class e{}return e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({factory:function(o){return new(o||e)},imports:[[i.i.forChild(F)],i.i]}),e})();var C=t("CJCG"),P=t("Rc/z");let v=(()=>{class e{}return e.\u0275mod=a.Gb({type:e}),e.\u0275inj=a.Fb({factory:function(o){return new(o||e)},imports:[[r.c,n.e,n.k,b.b,s.kb,C.a,P.a,y]]}),e})()}}]);
//# sourceMappingURL=25.335f56fcddcfcad3dd29.js.map