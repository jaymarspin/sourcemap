{"version":3,"sources":["./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.page.ts","./src/app/pages/profile/profile.page.html","./src/app/pages/profile/profile.module.ts"],"names":["routes","path","component","ProfilePage","authService","errService","authState$","this","subAuthState","subs","Subscription","subUser","subscribe","user","err","handleError","add","logError","subShowAuth","combineLatest","pipe","first","usr","isLoggedIn","ProfilePageRoutingModule","forChild","ProfilePageModule"],"mappings":"ySAKA,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCGG,M,MAAMC,EAKX,YAAoBC,EAA4CC,GAA5C,KAAAD,cAA4C,KAAAC,aAHhE,KAAAC,WAAaC,KAAKH,YAAYI,eACtB,KAAAC,KAAqB,IAAIC,EAAA,EAIjC,WACE,IACE,MAAMC,EAAUJ,KAAKH,YAAYO,UAAUC,UAClCC,GAAS,YAAD,+BACbN,KAAKM,KAAOA,IAEbC,GAAQP,KAAKF,WAAWU,YAAYD,IAEvCP,KAAKE,KAAKO,IAAIL,GACd,MAAOG,GACPP,KAAKF,WAAWY,SAASH,IAG7B,qBACE,MAAMI,EAAc,OAAAC,EAAA,GAAc,CAACZ,KAAKH,YAAYO,YACjDS,KACC,OAAAC,EAAA,GAAM,EAAEC,KACQ,MAAPA,IAAgBA,EAAIC,aAG9BX,UACC,OACCE,GAAQP,KAAKF,WAAWY,SAASH,IAEtCP,KAAKE,KAAKO,IAAIE,I,6CA/BLf,GAAW,sB,uBAAXA,EAAW,kcCXxB,qBACE,wBACE,wBACE,4B,oBACF,OACA,oBAAW,Q,oBAAmC,OAChD,OACF,OACA,sBACE,qBACE,mBACE,mBACE,wBACE,iBACF,OACA,oBACE,sBACF,OACF,OACF,OAEA,mBACE,mBACE,wBACE,iBACF,OACA,oBACE,sBACF,OACF,OACF,OAEA,qBACE,mBACE,sBACE,cAAI,SAAc,OACpB,OAEA,wBAA8B,SAAsB,OAEpD,wBAA8B,SAAmB,OACnD,OACF,OACF,OACF,OACA,yBACE,uBACE,oBACE,mBACE,sBACE,oBACE,iBAA4B,S,qBAAkC,OAChE,OACF,OACF,OACA,sBACE,sBACE,oBAAU,wBAAY,OACxB,OACF,OACF,OACF,OACF,Q,MA3DsC,6CAEvB,+CAQA,qHAWA,4DAWD,4CAGwB,2DAEA,wDAWE,iD,+xBDxCjC,KDKA,Y,MAAMqB,G,8BAAAA,I,oDAAAA,IAAwB,SAH1B,CAAC,IAAaC,SAASzB,IACtB,O,GAEL,GGDA,Q,MAAM0B,G,8BAAAA,I,oDAAAA,IAAiB,SAHnB,CAAC,IAAc,IAAa,KAAa,IAAiB,M,GAG9D","file":"30.fae26332c055d8f7d53c.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { combineLatest, Subscription } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { UserInfo } from 'src/app/models/common/user.model';\r\nimport { AuthenticationService } from 'src/app/services/common/auth/auth.service';\r\nimport { ErrorService } from 'src/app/services/common/error/error.service';\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  user: UserInfo;\r\n  authState$ = this.authService.subAuthState();\r\n  private subs: Subscription = new Subscription();\r\n\r\n  constructor(private authService: AuthenticationService, private errService: ErrorService) {}\r\n\r\n  ngOnInit() {\r\n    try {\r\n      const subUser = this.authService.subUser().subscribe(\r\n        async (user) => {\r\n          this.user = user;\r\n        },\r\n        (err) => this.errService.handleError(err)\r\n      );\r\n      this.subs.add(subUser);\r\n    } catch (err) {\r\n      this.errService.logError(err);\r\n    }\r\n  }\r\n  ngAfterContentInit() {\r\n    const subShowAuth = combineLatest([this.authService.subUser()])\r\n      .pipe(\r\n        first(([usr]) => {\r\n          return usr != null && !usr.isLoggedIn;\r\n        })\r\n      )\r\n      .subscribe(\r\n        () => {},\r\n        (err) => this.errService.logError(err)\r\n      );\r\n    this.subs.add(subShowAuth);\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\" mode=\"ios\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"\" text=\"{{'Common_Back'|translate}}\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>{{\"ProfilePage_Profile\"|translate}}</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n<ion-content>\r\n  <ion-grid class=\"ion-no-margin ion-no-padding ion-padding-bottom ion-text-center white\">\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-avatar class=\"profile\">\r\n          <img src=\"{{user?.userPhoto + '?oauth_token=' + user?.accessToken}}\" />\r\n        </ion-avatar>\r\n        <button class=\"badge\">\r\n          <ion-icon name=\"camera\" color=\"light\"></ion-icon>\r\n        </button>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row>\r\n      <ion-col>\r\n        <ion-avatar class=\"profile\">\r\n          <img src=\"{{user?.userPhoto}}\" />\r\n        </ion-avatar>\r\n        <button class=\"badge\">\r\n          <ion-icon name=\"camera\" color=\"light\"></ion-icon>\r\n        </button>\r\n      </ion-col>\r\n    </ion-row>\r\n\r\n    <ion-row class=\"ion-margin-top\">\r\n      <ion-col>\r\n        <ion-text color=\"primary\">\r\n          <h4>{{user?.name}}</h4>\r\n        </ion-text>\r\n\r\n        <ion-label class=\"mat-small\"> {{user?.companyName}} </ion-label>\r\n\r\n        <ion-label class=\"mat-small\"> {{user?.teamName}} </ion-label>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ion-grid>\r\n</ion-content>\r\n<ion-footer class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-grid>\r\n      <ion-row>\r\n        <ion-col size=\"12\">\r\n          <ion-text>\r\n            <h3 class=\"ion-text-center\">{{\"ProfilePage_LogOut\"|translate}}</h3>\r\n          </ion-text>\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row class=\"version-wrapper\">\r\n        <ion-col size=\"12\">\r\n          <ion-text>v1.0.0 Build</ion-text>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-grid>\r\n  </ion-toolbar>\r\n</ion-footer>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, IonicModule, TranslateModule, ProfilePageRoutingModule],\r\n  declarations: [ProfilePage],\r\n})\r\nexport class ProfilePageModule {}\r\n"],"sourceRoot":"webpack:///"}